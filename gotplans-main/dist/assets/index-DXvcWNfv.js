(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Uh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Gu={exports:{}},ui={},Ku={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kr=Symbol.for("react.element"),zh=Symbol.for("react.portal"),Fh=Symbol.for("react.fragment"),Bh=Symbol.for("react.strict_mode"),qh=Symbol.for("react.profiler"),Hh=Symbol.for("react.provider"),Vh=Symbol.for("react.context"),Wh=Symbol.for("react.forward_ref"),Gh=Symbol.for("react.suspense"),Kh=Symbol.for("react.memo"),Qh=Symbol.for("react.lazy"),wl=Symbol.iterator;function Jh(t){return t===null||typeof t!="object"?null:(t=wl&&t[wl]||t["@@iterator"],typeof t=="function"?t:null)}var Qu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ju=Object.assign,Yu={};function Jn(t,e,n){this.props=t,this.context=e,this.refs=Yu,this.updater=n||Qu}Jn.prototype.isReactComponent={};Jn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xu(){}Xu.prototype=Jn.prototype;function va(t,e,n){this.props=t,this.context=e,this.refs=Yu,this.updater=n||Qu}var wa=va.prototype=new Xu;wa.constructor=va;Ju(wa,Jn.prototype);wa.isPureReactComponent=!0;var xl=Array.isArray,Zu=Object.prototype.hasOwnProperty,xa={current:null},ec={key:!0,ref:!0,__self:!0,__source:!0};function tc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Zu.call(e,r)&&!ec.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Kr,type:t,key:i,ref:o,props:s,_owner:xa.current}}function Yh(t,e){return{$$typeof:Kr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _a(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kr}function Xh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _l=/\/+/g;function Ii(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xh(""+t.key):e.toString(36)}function js(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kr:case zh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ii(o,0):r,xl(s)?(n="",t!=null&&(n=t.replace(_l,"$&/")+"/"),js(s,e,n,"",function(c){return c})):s!=null&&(_a(s)&&(s=Yh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_l,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",xl(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Ii(i,l);o+=js(i,e,n,u,s)}else if(u=Jh(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Ii(i,l++),o+=js(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ns(t,e,n){if(t==null)return t;var r=[],s=0;return js(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Zh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xe={current:null},bs={transition:null},ef={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:bs,ReactCurrentOwner:xa};function nc(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:ns,forEach:function(t,e,n){ns(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ns(t,function(){e++}),e},toArray:function(t){return ns(t,function(e){return e})||[]},only:function(t){if(!_a(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Jn;U.Fragment=Fh;U.Profiler=qh;U.PureComponent=va;U.StrictMode=Bh;U.Suspense=Gh;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ef;U.act=nc;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ju({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=xa.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Zu.call(e,u)&&!ec.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Kr,type:t.type,key:s,ref:i,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:Vh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hh,_context:t},t.Consumer=t};U.createElement=tc;U.createFactory=function(t){var e=tc.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Wh,render:t}};U.isValidElement=_a;U.lazy=function(t){return{$$typeof:Qh,_payload:{_status:-1,_result:t},_init:Zh}};U.memo=function(t,e){return{$$typeof:Kh,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=bs.transition;bs.transition={};try{t()}finally{bs.transition=e}};U.unstable_act=nc;U.useCallback=function(t,e){return xe.current.useCallback(t,e)};U.useContext=function(t){return xe.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return xe.current.useDeferredValue(t)};U.useEffect=function(t,e){return xe.current.useEffect(t,e)};U.useId=function(){return xe.current.useId()};U.useImperativeHandle=function(t,e,n){return xe.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return xe.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return xe.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return xe.current.useMemo(t,e)};U.useReducer=function(t,e,n){return xe.current.useReducer(t,e,n)};U.useRef=function(t){return xe.current.useRef(t)};U.useState=function(t){return xe.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return xe.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return xe.current.useTransition()};U.version="18.3.1";Ku.exports=U;var A=Ku.exports;const Ge=Mh(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf=A,nf=Symbol.for("react.element"),rf=Symbol.for("react.fragment"),sf=Object.prototype.hasOwnProperty,of=tf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,af={key:!0,ref:!0,__self:!0,__source:!0};function rc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sf.call(e,r)&&!af.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:nf,type:t,key:i,ref:o,props:s,_owner:of.current}}ui.Fragment=rf;ui.jsx=rc;ui.jsxs=rc;Gu.exports=ui;var a=Gu.exports,sc={exports:{}},Ie={},ic={exports:{}},oc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,I){var D=C.length;C.push(I);e:for(;0<D;){var P=D-1>>>1,O=C[P];if(0<s(O,I))C[P]=I,C[D]=O,D=P;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var I=C[0],D=C.pop();if(D!==I){C[0]=D;e:for(var P=0,O=C.length,V=O>>>1;P<V;){var st=2*(P+1)-1,ct=C[st],Te=st+1,St=C[Te];if(0>s(ct,D))Te<O&&0>s(St,ct)?(C[P]=St,C[Te]=D,P=Te):(C[P]=ct,C[st]=D,P=st);else if(Te<O&&0>s(St,D))C[P]=St,C[Te]=D,P=Te;else break e}}return I}function s(C,I){var D=C.sortIndex-I.sortIndex;return D!==0?D:C.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,m=3,y=!1,_=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=C)r(c),I.sortIndex=I.expirationTime,e(u,I);else break;I=n(c)}}function v(C){if(k=!1,p(C),!_)if(n(u)!==null)_=!0,Pe(S);else{var I=n(c);I!==null&&Ve(v,I.startTime-C)}}function S(C,I){_=!1,k&&(k=!1,g(x),x=-1),y=!0;var D=m;try{for(p(I),h=n(u);h!==null&&(!(h.expirationTime>I)||C&&!B());){var P=h.callback;if(typeof P=="function"){h.callback=null,m=h.priorityLevel;var O=P(h.expirationTime<=I);I=t.unstable_now(),typeof O=="function"?h.callback=O:h===n(u)&&r(u),p(I)}else r(u);h=n(u)}if(h!==null)var V=!0;else{var st=n(c);st!==null&&Ve(v,st.startTime-I),V=!1}return V}finally{h=null,m=D,y=!1}}var j=!1,w=null,x=-1,$=5,R=-1;function B(){return!(t.unstable_now()-R<$)}function E(){if(w!==null){var C=t.unstable_now();R=C;var I=!0;try{I=w(!0,C)}finally{I?z():(j=!1,w=null)}}else j=!1}var z;if(typeof f=="function")z=function(){f(E)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,He=he.port2;he.port1.onmessage=E,z=function(){He.postMessage(null)}}else z=function(){N(E,0)};function Pe(C){w=C,j||(j=!0,z())}function Ve(C,I){x=N(function(){C(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,Pe(S))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(C){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var D=m;m=I;try{return C()}finally{m=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,I){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=m;m=C;try{return I()}finally{m=D}},t.unstable_scheduleCallback=function(C,I,D){var P=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?P+D:P):D=P,C){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=D+O,C={id:d++,callback:I,priorityLevel:C,startTime:D,expirationTime:O,sortIndex:-1},D>P?(C.sortIndex=D,e(c,C),n(u)===null&&C===n(c)&&(k?(g(x),x=-1):k=!0,Ve(v,D-P))):(C.sortIndex=O,e(u,C),_||y||(_=!0,Pe(S))),C},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(C){var I=m;return function(){var D=m;m=I;try{return C.apply(this,arguments)}finally{m=D}}}})(oc);ic.exports=oc;var lf=ic.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=A,Ae=lf;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ac=new Set,Nr={};function hn(t,e){zn(t,e),zn(t+"Capture",e)}function zn(t,e){for(Nr[t]=e,t=0;t<e.length;t++)ac.add(e[t])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=Object.prototype.hasOwnProperty,cf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kl={},Sl={};function df(t){return mo.call(Sl,t)?!0:mo.call(kl,t)?!1:cf.test(t)?Sl[t]=!0:(kl[t]=!0,!1)}function hf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ff(t,e,n,r){if(e===null||typeof e>"u"||hf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _e(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){de[t]=new _e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];de[e]=new _e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){de[t]=new _e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){de[t]=new _e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){de[t]=new _e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){de[t]=new _e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){de[t]=new _e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){de[t]=new _e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){de[t]=new _e(t,5,!1,t.toLowerCase(),null,!1,!1)});var ka=/[\-:]([a-z])/g;function Sa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ka,Sa);de[e]=new _e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ka,Sa);de[e]=new _e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ka,Sa);de[e]=new _e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){de[t]=new _e(t,1,!1,t.toLowerCase(),null,!1,!1)});de.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){de[t]=new _e(t,1,!1,t.toLowerCase(),null,!0,!0)});function ja(t,e,n,r){var s=de.hasOwnProperty(e)?de[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ff(e,n,s,r)&&(n=null),r||s===null?df(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kt=uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rs=Symbol.for("react.element"),_n=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),ba=Symbol.for("react.strict_mode"),go=Symbol.for("react.profiler"),lc=Symbol.for("react.provider"),uc=Symbol.for("react.context"),Ea=Symbol.for("react.forward_ref"),yo=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Na=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),cc=Symbol.for("react.offscreen"),jl=Symbol.iterator;function tr(t){return t===null||typeof t!="object"?null:(t=jl&&t[jl]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,Li;function cr(t){if(Li===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Li=e&&e[1]||""}return`
`+Li+t}var Di=!1;function Mi(t,e){if(!t||Di)return"";Di=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Di=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cr(t):""}function pf(t){switch(t.tag){case 5:return cr(t.type);case 16:return cr("Lazy");case 13:return cr("Suspense");case 19:return cr("SuspenseList");case 0:case 2:case 15:return t=Mi(t.type,!1),t;case 11:return t=Mi(t.type.render,!1),t;case 1:return t=Mi(t.type,!0),t;default:return""}}function wo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kn:return"Fragment";case _n:return"Portal";case go:return"Profiler";case ba:return"StrictMode";case yo:return"Suspense";case vo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uc:return(t.displayName||"Context")+".Consumer";case lc:return(t._context.displayName||"Context")+".Provider";case Ea:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Na:return e=t.displayName||null,e!==null?e:wo(t.type)||"Memo";case Et:e=t._payload,t=t._init;try{return wo(t(e))}catch{}}return null}function mf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wo(e);case 8:return e===ba?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gf(t){var e=dc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ss(t){t._valueTracker||(t._valueTracker=gf(t))}function hc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ls(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xo(t,e){var n=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bl(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fc(t,e){e=e.checked,e!=null&&ja(t,"checked",e,!1)}function _o(t,e){fc(t,e);var n=qt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ko(t,e.type,n):e.hasOwnProperty("defaultValue")&&ko(t,e.type,qt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function El(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ko(t,e,n){(e!=="number"||Ls(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var dr=Array.isArray;function On(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function So(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nl(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(dr(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qt(n)}}function pc(t,e){var n=qt(e.value),r=qt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var is,gc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=is.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yf=["Webkit","ms","Moz","O"];Object.keys(mr).forEach(function(t){yf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mr[e]=mr[t]})});function yc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mr.hasOwnProperty(t)&&mr[t]?(""+e).trim():e+"px"}function vc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=yc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var vf=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bo(t,e){if(e){if(vf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Eo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=null;function Ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Co=null,An=null,In=null;function Pl(t){if(t=Yr(t)){if(typeof Co!="function")throw Error(b(280));var e=t.stateNode;e&&(e=pi(e),Co(t.stateNode,t.type,e))}}function wc(t){An?In?In.push(t):In=[t]:An=t}function xc(){if(An){var t=An,e=In;if(In=An=null,Pl(t),e)for(t=0;t<e.length;t++)Pl(e[t])}}function _c(t,e){return t(e)}function kc(){}var Ui=!1;function Sc(t,e,n){if(Ui)return t(e,n);Ui=!0;try{return _c(t,e,n)}finally{Ui=!1,(An!==null||In!==null)&&(kc(),xc())}}function Pr(t,e){var n=t.stateNode;if(n===null)return null;var r=pi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Po=!1;if(vt)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){Po=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{Po=!1}function wf(t,e,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var gr=!1,Ds=null,Ms=!1,To=null,xf={onError:function(t){gr=!0,Ds=t}};function _f(t,e,n,r,s,i,o,l,u){gr=!1,Ds=null,wf.apply(xf,arguments)}function kf(t,e,n,r,s,i,o,l,u){if(_f.apply(this,arguments),gr){if(gr){var c=Ds;gr=!1,Ds=null}else throw Error(b(198));Ms||(Ms=!0,To=c)}}function fn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tl(t){if(fn(t)!==t)throw Error(b(188))}function Sf(t){var e=t.alternate;if(!e){if(e=fn(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Tl(s),t;if(i===r)return Tl(s),e;i=i.sibling}throw Error(b(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function bc(t){return t=Sf(t),t!==null?Ec(t):null}function Ec(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ec(t);if(e!==null)return e;t=t.sibling}return null}var Nc=Ae.unstable_scheduleCallback,Rl=Ae.unstable_cancelCallback,jf=Ae.unstable_shouldYield,bf=Ae.unstable_requestPaint,ne=Ae.unstable_now,Ef=Ae.unstable_getCurrentPriorityLevel,Pa=Ae.unstable_ImmediatePriority,Cc=Ae.unstable_UserBlockingPriority,Us=Ae.unstable_NormalPriority,Nf=Ae.unstable_LowPriority,Pc=Ae.unstable_IdlePriority,ci=null,lt=null;function Cf(t){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(ci,t,void 0,(t.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:Rf,Pf=Math.log,Tf=Math.LN2;function Rf(t){return t>>>=0,t===0?32:31-(Pf(t)/Tf|0)|0}var os=64,as=4194304;function hr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=hr(l):(i&=o,i!==0&&(r=hr(i)))}else o=n&~s,o!==0?r=hr(o):i!==0&&(r=hr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-et(e),s=1<<n,r|=t[n],e&=~s;return r}function $f(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Of(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-et(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=$f(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function Ro(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tc(){var t=os;return os<<=1,!(os&4194240)&&(os=64),t}function zi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-et(e),t[e]=n}function Af(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-et(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ta(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-et(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var W=0;function Rc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $c,Ra,Oc,Ac,Ic,$o=!1,ls=[],At=null,It=null,Lt=null,Tr=new Map,Rr=new Map,Pt=[],If="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $l(t,e){switch(t){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Tr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(e.pointerId)}}function rr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Yr(e),e!==null&&Ra(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Lf(t,e,n,r,s){switch(e){case"focusin":return At=rr(At,t,e,n,r,s),!0;case"dragenter":return It=rr(It,t,e,n,r,s),!0;case"mouseover":return Lt=rr(Lt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Tr.set(i,rr(Tr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rr.set(i,rr(Rr.get(i)||null,t,e,n,r,s)),!0}return!1}function Lc(t){var e=tn(t.target);if(e!==null){var n=fn(e);if(n!==null){if(e=n.tag,e===13){if(e=jc(n),e!==null){t.blockedOn=e,Ic(t.priority,function(){Oc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Es(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);No=r,n.target.dispatchEvent(r),No=null}else return e=Yr(n),e!==null&&Ra(e),t.blockedOn=n,!1;e.shift()}return!0}function Ol(t,e,n){Es(t)&&n.delete(e)}function Df(){$o=!1,At!==null&&Es(At)&&(At=null),It!==null&&Es(It)&&(It=null),Lt!==null&&Es(Lt)&&(Lt=null),Tr.forEach(Ol),Rr.forEach(Ol)}function sr(t,e){t.blockedOn===e&&(t.blockedOn=null,$o||($o=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,Df)))}function $r(t){function e(s){return sr(s,t)}if(0<ls.length){sr(ls[0],t);for(var n=1;n<ls.length;n++){var r=ls[n];r.blockedOn===t&&(r.blockedOn=null)}}for(At!==null&&sr(At,t),It!==null&&sr(It,t),Lt!==null&&sr(Lt,t),Tr.forEach(e),Rr.forEach(e),n=0;n<Pt.length;n++)r=Pt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pt.length&&(n=Pt[0],n.blockedOn===null);)Lc(n),n.blockedOn===null&&Pt.shift()}var Ln=kt.ReactCurrentBatchConfig,Fs=!0;function Mf(t,e,n,r){var s=W,i=Ln.transition;Ln.transition=null;try{W=1,$a(t,e,n,r)}finally{W=s,Ln.transition=i}}function Uf(t,e,n,r){var s=W,i=Ln.transition;Ln.transition=null;try{W=4,$a(t,e,n,r)}finally{W=s,Ln.transition=i}}function $a(t,e,n,r){if(Fs){var s=Oo(t,e,n,r);if(s===null)Ji(t,e,r,Bs,n),$l(t,r);else if(Lf(s,t,e,n,r))r.stopPropagation();else if($l(t,r),e&4&&-1<If.indexOf(t)){for(;s!==null;){var i=Yr(s);if(i!==null&&$c(i),i=Oo(t,e,n,r),i===null&&Ji(t,e,r,Bs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ji(t,e,r,null,n)}}var Bs=null;function Oo(t,e,n,r){if(Bs=null,t=Ca(r),t=tn(t),t!==null)if(e=fn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bs=t,null}function Dc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ef()){case Pa:return 1;case Cc:return 4;case Us:case Nf:return 16;case Pc:return 536870912;default:return 16}default:return 16}}var $t=null,Oa=null,Ns=null;function Mc(){if(Ns)return Ns;var t,e=Oa,n=e.length,r,s="value"in $t?$t.value:$t.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ns=s.slice(t,1<r?1-r:void 0)}function Cs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function us(){return!0}function Al(){return!1}function Le(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?us:Al,this.isPropagationStopped=Al,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),e}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Le(Yn),Jr=ee({},Yn,{view:0,detail:0}),zf=Le(Jr),Fi,Bi,ir,di=ee({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ir&&(ir&&t.type==="mousemove"?(Fi=t.screenX-ir.screenX,Bi=t.screenY-ir.screenY):Bi=Fi=0,ir=t),Fi)},movementY:function(t){return"movementY"in t?t.movementY:Bi}}),Il=Le(di),Ff=ee({},di,{dataTransfer:0}),Bf=Le(Ff),qf=ee({},Jr,{relatedTarget:0}),qi=Le(qf),Hf=ee({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vf=Le(Hf),Wf=ee({},Yn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gf=Le(Wf),Kf=ee({},Yn,{data:0}),Ll=Le(Kf),Qf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Yf[t])?!!e[t]:!1}function Ia(){return Xf}var Zf=ee({},Jr,{key:function(t){if(t.key){var e=Qf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(t){return t.type==="keypress"?Cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ep=Le(Zf),tp=ee({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=Le(tp),np=ee({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),rp=Le(np),sp=ee({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ip=Le(sp),op=ee({},di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ap=Le(op),lp=[9,13,27,32],La=vt&&"CompositionEvent"in window,yr=null;vt&&"documentMode"in document&&(yr=document.documentMode);var up=vt&&"TextEvent"in window&&!yr,Uc=vt&&(!La||yr&&8<yr&&11>=yr),Ml=" ",Ul=!1;function zc(t,e){switch(t){case"keyup":return lp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sn=!1;function cp(t,e){switch(t){case"compositionend":return Fc(e);case"keypress":return e.which!==32?null:(Ul=!0,Ml);case"textInput":return t=e.data,t===Ml&&Ul?null:t;default:return null}}function dp(t,e){if(Sn)return t==="compositionend"||!La&&zc(t,e)?(t=Mc(),Ns=Oa=$t=null,Sn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Uc&&e.locale!=="ko"?null:e.data;default:return null}}var hp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hp[t.type]:e==="textarea"}function Bc(t,e,n,r){wc(r),e=qs(e,"onChange"),0<e.length&&(n=new Aa("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vr=null,Or=null;function fp(t){Zc(t,0)}function hi(t){var e=En(t);if(hc(e))return t}function pp(t,e){if(t==="change")return e}var qc=!1;if(vt){var Hi;if(vt){var Vi="oninput"in document;if(!Vi){var Fl=document.createElement("div");Fl.setAttribute("oninput","return;"),Vi=typeof Fl.oninput=="function"}Hi=Vi}else Hi=!1;qc=Hi&&(!document.documentMode||9<document.documentMode)}function Bl(){vr&&(vr.detachEvent("onpropertychange",Hc),Or=vr=null)}function Hc(t){if(t.propertyName==="value"&&hi(Or)){var e=[];Bc(e,Or,t,Ca(t)),Sc(fp,e)}}function mp(t,e,n){t==="focusin"?(Bl(),vr=e,Or=n,vr.attachEvent("onpropertychange",Hc)):t==="focusout"&&Bl()}function gp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hi(Or)}function yp(t,e){if(t==="click")return hi(e)}function vp(t,e){if(t==="input"||t==="change")return hi(e)}function wp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rt=typeof Object.is=="function"?Object.is:wp;function Ar(t,e){if(rt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!mo.call(e,s)||!rt(t[s],e[s]))return!1}return!0}function ql(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hl(t,e){var n=ql(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ql(n)}}function Vc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wc(){for(var t=window,e=Ls();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ls(t.document)}return e}function Da(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xp(t){var e=Wc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Vc(n.ownerDocument.documentElement,n)){if(r!==null&&Da(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Hl(n,i);var o=Hl(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _p=vt&&"documentMode"in document&&11>=document.documentMode,jn=null,Ao=null,wr=null,Io=!1;function Vl(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Io||jn==null||jn!==Ls(r)||(r=jn,"selectionStart"in r&&Da(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wr&&Ar(wr,r)||(wr=r,r=qs(Ao,"onSelect"),0<r.length&&(e=new Aa("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jn)))}function cs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bn={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionend:cs("Transition","TransitionEnd")},Wi={},Gc={};vt&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete bn.animationend.animation,delete bn.animationiteration.animation,delete bn.animationstart.animation),"TransitionEvent"in window||delete bn.transitionend.transition);function fi(t){if(Wi[t])return Wi[t];if(!bn[t])return t;var e=bn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gc)return Wi[t]=e[n];return t}var Kc=fi("animationend"),Qc=fi("animationiteration"),Jc=fi("animationstart"),Yc=fi("transitionend"),Xc=new Map,Wl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vt(t,e){Xc.set(t,e),hn(e,[t])}for(var Gi=0;Gi<Wl.length;Gi++){var Ki=Wl[Gi],kp=Ki.toLowerCase(),Sp=Ki[0].toUpperCase()+Ki.slice(1);Vt(kp,"on"+Sp)}Vt(Kc,"onAnimationEnd");Vt(Qc,"onAnimationIteration");Vt(Jc,"onAnimationStart");Vt("dblclick","onDoubleClick");Vt("focusin","onFocus");Vt("focusout","onBlur");Vt(Yc,"onTransitionEnd");zn("onMouseEnter",["mouseout","mouseover"]);zn("onMouseLeave",["mouseout","mouseover"]);zn("onPointerEnter",["pointerout","pointerover"]);zn("onPointerLeave",["pointerout","pointerover"]);hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jp=new Set("cancel close invalid load scroll toggle".split(" ").concat(fr));function Gl(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kf(r,e,void 0,t),t.currentTarget=null}function Zc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Gl(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Gl(s,l,c),i=u}}}if(Ms)throw t=To,Ms=!1,To=null,t}function Q(t,e){var n=e[zo];n===void 0&&(n=e[zo]=new Set);var r=t+"__bubble";n.has(r)||(ed(e,t,2,!1),n.add(r))}function Qi(t,e,n){var r=0;e&&(r|=4),ed(n,t,r,e)}var ds="_reactListening"+Math.random().toString(36).slice(2);function Ir(t){if(!t[ds]){t[ds]=!0,ac.forEach(function(n){n!=="selectionchange"&&(jp.has(n)||Qi(n,!1,t),Qi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ds]||(e[ds]=!0,Qi("selectionchange",!1,e))}}function ed(t,e,n,r){switch(Dc(e)){case 1:var s=Mf;break;case 4:s=Uf;break;default:s=$a}n=s.bind(null,e,n,t),s=void 0,!Po||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ji(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=tn(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Sc(function(){var c=i,d=Ca(n),h=[];e:{var m=Xc.get(t);if(m!==void 0){var y=Aa,_=t;switch(t){case"keypress":if(Cs(n)===0)break e;case"keydown":case"keyup":y=ep;break;case"focusin":_="focus",y=qi;break;case"focusout":_="blur",y=qi;break;case"beforeblur":case"afterblur":y=qi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=rp;break;case Kc:case Qc:case Jc:y=Vf;break;case Yc:y=ip;break;case"scroll":y=zf;break;case"wheel":y=ap;break;case"copy":case"cut":case"paste":y=Gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Dl}var k=(e&4)!==0,N=!k&&t==="scroll",g=k?m!==null?m+"Capture":null:m;k=[];for(var f=c,p;f!==null;){p=f;var v=p.stateNode;if(p.tag===5&&v!==null&&(p=v,g!==null&&(v=Pr(f,g),v!=null&&k.push(Lr(f,v,p)))),N)break;f=f.return}0<k.length&&(m=new y(m,_,null,n,d),h.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==No&&(_=n.relatedTarget||n.fromElement)&&(tn(_)||_[wt]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=c,_=_?tn(_):null,_!==null&&(N=fn(_),_!==N||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=c),y!==_)){if(k=Il,v="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(k=Dl,v="onPointerLeave",g="onPointerEnter",f="pointer"),N=y==null?m:En(y),p=_==null?m:En(_),m=new k(v,f+"leave",y,n,d),m.target=N,m.relatedTarget=p,v=null,tn(d)===c&&(k=new k(g,f+"enter",_,n,d),k.target=p,k.relatedTarget=N,v=k),N=v,y&&_)t:{for(k=y,g=_,f=0,p=k;p;p=mn(p))f++;for(p=0,v=g;v;v=mn(v))p++;for(;0<f-p;)k=mn(k),f--;for(;0<p-f;)g=mn(g),p--;for(;f--;){if(k===g||g!==null&&k===g.alternate)break t;k=mn(k),g=mn(g)}k=null}else k=null;y!==null&&Kl(h,m,y,k,!1),_!==null&&N!==null&&Kl(h,N,_,k,!0)}}e:{if(m=c?En(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var S=pp;else if(zl(m))if(qc)S=vp;else{S=gp;var j=mp}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=yp);if(S&&(S=S(t,c))){Bc(h,S,n,d);break e}j&&j(t,m,c),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&ko(m,"number",m.value)}switch(j=c?En(c):window,t){case"focusin":(zl(j)||j.contentEditable==="true")&&(jn=j,Ao=c,wr=null);break;case"focusout":wr=Ao=jn=null;break;case"mousedown":Io=!0;break;case"contextmenu":case"mouseup":case"dragend":Io=!1,Vl(h,n,d);break;case"selectionchange":if(_p)break;case"keydown":case"keyup":Vl(h,n,d)}var w;if(La)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Sn?zc(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Uc&&n.locale!=="ko"&&(Sn||x!=="onCompositionStart"?x==="onCompositionEnd"&&Sn&&(w=Mc()):($t=d,Oa="value"in $t?$t.value:$t.textContent,Sn=!0)),j=qs(c,x),0<j.length&&(x=new Ll(x,t,null,n,d),h.push({event:x,listeners:j}),w?x.data=w:(w=Fc(n),w!==null&&(x.data=w)))),(w=up?cp(t,n):dp(t,n))&&(c=qs(c,"onBeforeInput"),0<c.length&&(d=new Ll("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=w))}Zc(h,e)})}function Lr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pr(t,n),i!=null&&r.unshift(Lr(t,i,s)),i=Pr(t,e),i!=null&&r.push(Lr(t,i,s))),t=t.return}return r}function mn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kl(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Pr(n,i),u!=null&&o.unshift(Lr(n,u,l))):s||(u=Pr(n,i),u!=null&&o.push(Lr(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bp=/\r\n?/g,Ep=/\u0000|\uFFFD/g;function Ql(t){return(typeof t=="string"?t:""+t).replace(bp,`
`).replace(Ep,"")}function hs(t,e,n){if(e=Ql(e),Ql(t)!==e&&n)throw Error(b(425))}function Hs(){}var Lo=null,Do=null;function Mo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uo=typeof setTimeout=="function"?setTimeout:void 0,Np=typeof clearTimeout=="function"?clearTimeout:void 0,Jl=typeof Promise=="function"?Promise:void 0,Cp=typeof queueMicrotask=="function"?queueMicrotask:typeof Jl<"u"?function(t){return Jl.resolve(null).then(t).catch(Pp)}:Uo;function Pp(t){setTimeout(function(){throw t})}function Yi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),$r(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$r(e)}function Dt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yl(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xn=Math.random().toString(36).slice(2),at="__reactFiber$"+Xn,Dr="__reactProps$"+Xn,wt="__reactContainer$"+Xn,zo="__reactEvents$"+Xn,Tp="__reactListeners$"+Xn,Rp="__reactHandles$"+Xn;function tn(t){var e=t[at];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wt]||n[at]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yl(t);t!==null;){if(n=t[at])return n;t=Yl(t)}return e}t=n,n=t.parentNode}return null}function Yr(t){return t=t[at]||t[wt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function En(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function pi(t){return t[Dr]||null}var Fo=[],Nn=-1;function Wt(t){return{current:t}}function J(t){0>Nn||(t.current=Fo[Nn],Fo[Nn]=null,Nn--)}function K(t,e){Nn++,Fo[Nn]=t.current,t.current=e}var Ht={},ge=Wt(Ht),Ee=Wt(!1),an=Ht;function Fn(t,e){var n=t.type.contextTypes;if(!n)return Ht;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ne(t){return t=t.childContextTypes,t!=null}function Vs(){J(Ee),J(ge)}function Xl(t,e,n){if(ge.current!==Ht)throw Error(b(168));K(ge,e),K(Ee,n)}function td(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(b(108,mf(t)||"Unknown",s));return ee({},n,r)}function Ws(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ht,an=ge.current,K(ge,t),K(Ee,Ee.current),!0}function Zl(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=td(t,e,an),r.__reactInternalMemoizedMergedChildContext=t,J(Ee),J(ge),K(ge,t)):J(Ee),K(Ee,n)}var pt=null,mi=!1,Xi=!1;function nd(t){pt===null?pt=[t]:pt.push(t)}function $p(t){mi=!0,nd(t)}function Gt(){if(!Xi&&pt!==null){Xi=!0;var t=0,e=W;try{var n=pt;for(W=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pt=null,mi=!1}catch(s){throw pt!==null&&(pt=pt.slice(t+1)),Nc(Pa,Gt),s}finally{W=e,Xi=!1}}return null}var Cn=[],Pn=0,Gs=null,Ks=0,De=[],Me=0,ln=null,mt=1,gt="";function Yt(t,e){Cn[Pn++]=Ks,Cn[Pn++]=Gs,Gs=t,Ks=e}function rd(t,e,n){De[Me++]=mt,De[Me++]=gt,De[Me++]=ln,ln=t;var r=mt;t=gt;var s=32-et(r)-1;r&=~(1<<s),n+=1;var i=32-et(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,mt=1<<32-et(e)+s|n<<s|r,gt=i+t}else mt=1<<i|n<<s|r,gt=t}function Ma(t){t.return!==null&&(Yt(t,1),rd(t,1,0))}function Ua(t){for(;t===Gs;)Gs=Cn[--Pn],Cn[Pn]=null,Ks=Cn[--Pn],Cn[Pn]=null;for(;t===ln;)ln=De[--Me],De[Me]=null,gt=De[--Me],De[Me]=null,mt=De[--Me],De[Me]=null}var Oe=null,$e=null,Y=!1,Ze=null;function sd(t,e){var n=Ue(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oe=t,$e=Dt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oe=t,$e=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ln!==null?{id:mt,overflow:gt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ue(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Oe=t,$e=null,!0):!1;default:return!1}}function Bo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qo(t){if(Y){var e=$e;if(e){var n=e;if(!eu(t,e)){if(Bo(t))throw Error(b(418));e=Dt(n.nextSibling);var r=Oe;e&&eu(t,e)?sd(r,n):(t.flags=t.flags&-4097|2,Y=!1,Oe=t)}}else{if(Bo(t))throw Error(b(418));t.flags=t.flags&-4097|2,Y=!1,Oe=t}}}function tu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oe=t}function fs(t){if(t!==Oe)return!1;if(!Y)return tu(t),Y=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mo(t.type,t.memoizedProps)),e&&(e=$e)){if(Bo(t))throw id(),Error(b(418));for(;e;)sd(t,e),e=Dt(e.nextSibling)}if(tu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$e=Dt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$e=null}}else $e=Oe?Dt(t.stateNode.nextSibling):null;return!0}function id(){for(var t=$e;t;)t=Dt(t.nextSibling)}function Bn(){$e=Oe=null,Y=!1}function za(t){Ze===null?Ze=[t]:Ze.push(t)}var Op=kt.ReactCurrentBatchConfig;function or(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function ps(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nu(t){var e=t._init;return e(t._payload)}function od(t){function e(g,f){if(t){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function n(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Ft(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,f,p,v){return f===null||f.tag!==6?(f=io(p,g.mode,v),f.return=g,f):(f=s(f,p),f.return=g,f)}function u(g,f,p,v){var S=p.type;return S===kn?d(g,f,p.props.children,v,p.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Et&&nu(S)===f.type)?(v=s(f,p.props),v.ref=or(g,f,p),v.return=g,v):(v=Is(p.type,p.key,p.props,null,g.mode,v),v.ref=or(g,f,p),v.return=g,v)}function c(g,f,p,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=oo(p,g.mode,v),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function d(g,f,p,v,S){return f===null||f.tag!==7?(f=on(p,g.mode,v,S),f.return=g,f):(f=s(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=io(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case rs:return p=Is(f.type,f.key,f.props,null,g.mode,p),p.ref=or(g,null,f),p.return=g,p;case _n:return f=oo(f,g.mode,p),f.return=g,f;case Et:var v=f._init;return h(g,v(f._payload),p)}if(dr(f)||tr(f))return f=on(f,g.mode,p,null),f.return=g,f;ps(g,f)}return null}function m(g,f,p,v){var S=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:l(g,f,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case rs:return p.key===S?u(g,f,p,v):null;case _n:return p.key===S?c(g,f,p,v):null;case Et:return S=p._init,m(g,f,S(p._payload),v)}if(dr(p)||tr(p))return S!==null?null:d(g,f,p,v,null);ps(g,p)}return null}function y(g,f,p,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(p)||null,l(f,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rs:return g=g.get(v.key===null?p:v.key)||null,u(f,g,v,S);case _n:return g=g.get(v.key===null?p:v.key)||null,c(f,g,v,S);case Et:var j=v._init;return y(g,f,p,j(v._payload),S)}if(dr(v)||tr(v))return g=g.get(p)||null,d(f,g,v,S,null);ps(f,v)}return null}function _(g,f,p,v){for(var S=null,j=null,w=f,x=f=0,$=null;w!==null&&x<p.length;x++){w.index>x?($=w,w=null):$=w.sibling;var R=m(g,w,p[x],v);if(R===null){w===null&&(w=$);break}t&&w&&R.alternate===null&&e(g,w),f=i(R,f,x),j===null?S=R:j.sibling=R,j=R,w=$}if(x===p.length)return n(g,w),Y&&Yt(g,x),S;if(w===null){for(;x<p.length;x++)w=h(g,p[x],v),w!==null&&(f=i(w,f,x),j===null?S=w:j.sibling=w,j=w);return Y&&Yt(g,x),S}for(w=r(g,w);x<p.length;x++)$=y(w,g,x,p[x],v),$!==null&&(t&&$.alternate!==null&&w.delete($.key===null?x:$.key),f=i($,f,x),j===null?S=$:j.sibling=$,j=$);return t&&w.forEach(function(B){return e(g,B)}),Y&&Yt(g,x),S}function k(g,f,p,v){var S=tr(p);if(typeof S!="function")throw Error(b(150));if(p=S.call(p),p==null)throw Error(b(151));for(var j=S=null,w=f,x=f=0,$=null,R=p.next();w!==null&&!R.done;x++,R=p.next()){w.index>x?($=w,w=null):$=w.sibling;var B=m(g,w,R.value,v);if(B===null){w===null&&(w=$);break}t&&w&&B.alternate===null&&e(g,w),f=i(B,f,x),j===null?S=B:j.sibling=B,j=B,w=$}if(R.done)return n(g,w),Y&&Yt(g,x),S;if(w===null){for(;!R.done;x++,R=p.next())R=h(g,R.value,v),R!==null&&(f=i(R,f,x),j===null?S=R:j.sibling=R,j=R);return Y&&Yt(g,x),S}for(w=r(g,w);!R.done;x++,R=p.next())R=y(w,g,x,R.value,v),R!==null&&(t&&R.alternate!==null&&w.delete(R.key===null?x:R.key),f=i(R,f,x),j===null?S=R:j.sibling=R,j=R);return t&&w.forEach(function(E){return e(g,E)}),Y&&Yt(g,x),S}function N(g,f,p,v){if(typeof p=="object"&&p!==null&&p.type===kn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case rs:e:{for(var S=p.key,j=f;j!==null;){if(j.key===S){if(S=p.type,S===kn){if(j.tag===7){n(g,j.sibling),f=s(j,p.props.children),f.return=g,g=f;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Et&&nu(S)===j.type){n(g,j.sibling),f=s(j,p.props),f.ref=or(g,j,p),f.return=g,g=f;break e}n(g,j);break}else e(g,j);j=j.sibling}p.type===kn?(f=on(p.props.children,g.mode,v,p.key),f.return=g,g=f):(v=Is(p.type,p.key,p.props,null,g.mode,v),v.ref=or(g,f,p),v.return=g,g=v)}return o(g);case _n:e:{for(j=p.key;f!==null;){if(f.key===j)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else e(g,f);f=f.sibling}f=oo(p,g.mode,v),f.return=g,g=f}return o(g);case Et:return j=p._init,N(g,f,j(p._payload),v)}if(dr(p))return _(g,f,p,v);if(tr(p))return k(g,f,p,v);ps(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(g,f.sibling),f=s(f,p),f.return=g,g=f):(n(g,f),f=io(p,g.mode,v),f.return=g,g=f),o(g)):n(g,f)}return N}var qn=od(!0),ad=od(!1),Qs=Wt(null),Js=null,Tn=null,Fa=null;function Ba(){Fa=Tn=Js=null}function qa(t){var e=Qs.current;J(Qs),t._currentValue=e}function Ho(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dn(t,e){Js=t,Fa=Tn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(be=!0),t.firstContext=null)}function Be(t){var e=t._currentValue;if(Fa!==t)if(t={context:t,memoizedValue:e,next:null},Tn===null){if(Js===null)throw Error(b(308));Tn=t,Js.dependencies={lanes:0,firstContext:t}}else Tn=Tn.next=t;return e}var nn=null;function Ha(t){nn===null?nn=[t]:nn.push(t)}function ld(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ha(e)):(n.next=s.next,s.next=n),e.interleaved=n,xt(t,r)}function xt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nt=!1;function Va(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ud(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,xt(t,n)}return s=r.interleaved,s===null?(e.next=e,Ha(r)):(e.next=s.next,s.next=e),r.interleaved=e,xt(t,n)}function Ps(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ta(t,n)}}function ru(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ys(t,e,n,r){var s=t.updateQueue;Nt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,l=i;do{var m=l.lane,y=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,k=l;switch(m=e,y=n,k.tag){case 1:if(_=k.payload,typeof _=="function"){h=_.call(y,h,m);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=k.payload,m=typeof _=="function"?_.call(y,h,m):_,m==null)break e;h=ee({},h,m);break e;case 2:Nt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=y,u=h):d=d.next=y,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);cn|=o,t.lanes=o,t.memoizedState=h}}function su(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(b(191,s));s.call(r)}}}var Xr={},ut=Wt(Xr),Mr=Wt(Xr),Ur=Wt(Xr);function rn(t){if(t===Xr)throw Error(b(174));return t}function Wa(t,e){switch(K(Ur,e),K(Mr,t),K(ut,Xr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jo(e,t)}J(ut),K(ut,e)}function Hn(){J(ut),J(Mr),J(Ur)}function cd(t){rn(Ur.current);var e=rn(ut.current),n=jo(e,t.type);e!==n&&(K(Mr,t),K(ut,n))}function Ga(t){Mr.current===t&&(J(ut),J(Mr))}var X=Wt(0);function Xs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zi=[];function Ka(){for(var t=0;t<Zi.length;t++)Zi[t]._workInProgressVersionPrimary=null;Zi.length=0}var Ts=kt.ReactCurrentDispatcher,eo=kt.ReactCurrentBatchConfig,un=0,Z=null,se=null,ae=null,Zs=!1,xr=!1,zr=0,Ap=0;function fe(){throw Error(b(321))}function Qa(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rt(t[n],e[n]))return!1;return!0}function Ja(t,e,n,r,s,i){if(un=i,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ts.current=t===null||t.memoizedState===null?Mp:Up,t=n(r,s),xr){i=0;do{if(xr=!1,zr=0,25<=i)throw Error(b(301));i+=1,ae=se=null,e.updateQueue=null,Ts.current=zp,t=n(r,s)}while(xr)}if(Ts.current=ei,e=se!==null&&se.next!==null,un=0,ae=se=Z=null,Zs=!1,e)throw Error(b(300));return t}function Ya(){var t=zr!==0;return zr=0,t}function ot(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?Z.memoizedState=ae=t:ae=ae.next=t,ae}function qe(){if(se===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=ae===null?Z.memoizedState:ae.next;if(e!==null)ae=e,se=t;else{if(t===null)throw Error(b(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ae===null?Z.memoizedState=ae=t:ae=ae.next=t}return ae}function Fr(t,e){return typeof e=="function"?e(t):e}function to(t){var e=qe(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=se,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((un&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,o=r):u=u.next=h,Z.lanes|=d,cn|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,rt(r,e.memoizedState)||(be=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Z.lanes|=i,cn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function no(t){var e=qe(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);rt(i,e.memoizedState)||(be=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function dd(){}function hd(t,e){var n=Z,r=qe(),s=e(),i=!rt(r.memoizedState,s);if(i&&(r.memoizedState=s,be=!0),r=r.queue,Xa(md.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ae!==null&&ae.memoizedState.tag&1){if(n.flags|=2048,Br(9,pd.bind(null,n,r,s,e),void 0,null),le===null)throw Error(b(349));un&30||fd(n,e,s)}return s}function fd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pd(t,e,n,r){e.value=n,e.getSnapshot=r,gd(e)&&yd(t)}function md(t,e,n){return n(function(){gd(e)&&yd(t)})}function gd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rt(t,n)}catch{return!0}}function yd(t){var e=xt(t,1);e!==null&&tt(e,t,1,-1)}function iu(t){var e=ot();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:t},e.queue=t,t=t.dispatch=Dp.bind(null,Z,t),[e.memoizedState,t]}function Br(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vd(){return qe().memoizedState}function Rs(t,e,n,r){var s=ot();Z.flags|=t,s.memoizedState=Br(1|e,n,void 0,r===void 0?null:r)}function gi(t,e,n,r){var s=qe();r=r===void 0?null:r;var i=void 0;if(se!==null){var o=se.memoizedState;if(i=o.destroy,r!==null&&Qa(r,o.deps)){s.memoizedState=Br(e,n,i,r);return}}Z.flags|=t,s.memoizedState=Br(1|e,n,i,r)}function ou(t,e){return Rs(8390656,8,t,e)}function Xa(t,e){return gi(2048,8,t,e)}function wd(t,e){return gi(4,2,t,e)}function xd(t,e){return gi(4,4,t,e)}function _d(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kd(t,e,n){return n=n!=null?n.concat([t]):null,gi(4,4,_d.bind(null,e,t),n)}function Za(){}function Sd(t,e){var n=qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jd(t,e){var n=qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bd(t,e,n){return un&21?(rt(n,e)||(n=Tc(),Z.lanes|=n,cn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,be=!0),t.memoizedState=n)}function Ip(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var r=eo.transition;eo.transition={};try{t(!1),e()}finally{W=n,eo.transition=r}}function Ed(){return qe().memoizedState}function Lp(t,e,n){var r=zt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nd(t))Cd(e,n);else if(n=ld(t,e,n,r),n!==null){var s=we();tt(n,t,r,s),Pd(n,e,r)}}function Dp(t,e,n){var r=zt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nd(t))Cd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,rt(l,o)){var u=e.interleaved;u===null?(s.next=s,Ha(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=ld(t,e,s,r),n!==null&&(s=we(),tt(n,t,r,s),Pd(n,e,r))}}function Nd(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function Cd(t,e){xr=Zs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Pd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ta(t,n)}}var ei={readContext:Be,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},Mp={readContext:Be,useCallback:function(t,e){return ot().memoizedState=[t,e===void 0?null:e],t},useContext:Be,useEffect:ou,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rs(4194308,4,_d.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rs(4,2,t,e)},useMemo:function(t,e){var n=ot();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ot();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Lp.bind(null,Z,t),[r.memoizedState,t]},useRef:function(t){var e=ot();return t={current:t},e.memoizedState=t},useState:iu,useDebugValue:Za,useDeferredValue:function(t){return ot().memoizedState=t},useTransition:function(){var t=iu(!1),e=t[0];return t=Ip.bind(null,t[1]),ot().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Z,s=ot();if(Y){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),le===null)throw Error(b(349));un&30||fd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ou(md.bind(null,r,i,t),[t]),r.flags|=2048,Br(9,pd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ot(),e=le.identifierPrefix;if(Y){var n=gt,r=mt;n=(r&~(1<<32-et(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ap++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Up={readContext:Be,useCallback:Sd,useContext:Be,useEffect:Xa,useImperativeHandle:kd,useInsertionEffect:wd,useLayoutEffect:xd,useMemo:jd,useReducer:to,useRef:vd,useState:function(){return to(Fr)},useDebugValue:Za,useDeferredValue:function(t){var e=qe();return bd(e,se.memoizedState,t)},useTransition:function(){var t=to(Fr)[0],e=qe().memoizedState;return[t,e]},useMutableSource:dd,useSyncExternalStore:hd,useId:Ed,unstable_isNewReconciler:!1},zp={readContext:Be,useCallback:Sd,useContext:Be,useEffect:Xa,useImperativeHandle:kd,useInsertionEffect:wd,useLayoutEffect:xd,useMemo:jd,useReducer:no,useRef:vd,useState:function(){return no(Fr)},useDebugValue:Za,useDeferredValue:function(t){var e=qe();return se===null?e.memoizedState=t:bd(e,se.memoizedState,t)},useTransition:function(){var t=no(Fr)[0],e=qe().memoizedState;return[t,e]},useMutableSource:dd,useSyncExternalStore:hd,useId:Ed,unstable_isNewReconciler:!1};function Je(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yi={isMounted:function(t){return(t=t._reactInternals)?fn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=we(),s=zt(t),i=yt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Mt(t,i,s),e!==null&&(tt(e,t,s,r),Ps(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=we(),s=zt(t),i=yt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Mt(t,i,s),e!==null&&(tt(e,t,s,r),Ps(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=we(),r=zt(t),s=yt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Mt(t,s,r),e!==null&&(tt(e,t,r,n),Ps(e,t,r))}};function au(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ar(n,r)||!Ar(s,i):!0}function Td(t,e,n){var r=!1,s=Ht,i=e.contextType;return typeof i=="object"&&i!==null?i=Be(i):(s=Ne(e)?an:ge.current,r=e.contextTypes,i=(r=r!=null)?Fn(t,s):Ht),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function lu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yi.enqueueReplaceState(e,e.state,null)}function Wo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Va(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Be(i):(i=Ne(e)?an:ge.current,s.context=Fn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Vo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&yi.enqueueReplaceState(s,s.state,null),Ys(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Vn(t,e){try{var n="",r=e;do n+=pf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ro(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Go(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Fp=typeof WeakMap=="function"?WeakMap:Map;function Rd(t,e,n){n=yt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ni||(ni=!0,ra=r),Go(t,e)},n}function $d(t,e,n){n=yt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Go(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Go(t,e),typeof r!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Fp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=tm.bind(null,t,e,n),e.then(t,t))}function cu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function du(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yt(-1,1),e.tag=2,Mt(n,e,1))),n.lanes|=1),t)}var Bp=kt.ReactCurrentOwner,be=!1;function ve(t,e,n,r){e.child=t===null?ad(e,null,n,r):qn(e,t.child,n,r)}function hu(t,e,n,r,s){n=n.render;var i=e.ref;return Dn(e,s),r=Ja(t,e,n,r,i,s),n=Ya(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_t(t,e,s)):(Y&&n&&Ma(e),e.flags|=1,ve(t,e,r,s),e.child)}function fu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!al(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Od(t,e,i,r,s)):(t=Is(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ar,n(o,r)&&t.ref===e.ref)return _t(t,e,s)}return e.flags|=1,t=Ft(i,r),t.ref=e.ref,t.return=e,e.child=t}function Od(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ar(i,r)&&t.ref===e.ref)if(be=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(be=!0);else return e.lanes=t.lanes,_t(t,e,s)}return Ko(t,e,n,r,s)}function Ad(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K($n,Re),Re|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K($n,Re),Re|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K($n,Re),Re|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,K($n,Re),Re|=r;return ve(t,e,s,n),e.child}function Id(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ko(t,e,n,r,s){var i=Ne(n)?an:ge.current;return i=Fn(e,i),Dn(e,s),n=Ja(t,e,n,r,i,s),r=Ya(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_t(t,e,s)):(Y&&r&&Ma(e),e.flags|=1,ve(t,e,n,s),e.child)}function pu(t,e,n,r,s){if(Ne(n)){var i=!0;Ws(e)}else i=!1;if(Dn(e,s),e.stateNode===null)$s(t,e),Td(e,n,r),Wo(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Be(c):(c=Ne(n)?an:ge.current,c=Fn(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&lu(e,o,r,c),Nt=!1;var m=e.memoizedState;o.state=m,Ys(e,r,o,s),u=e.memoizedState,l!==r||m!==u||Ee.current||Nt?(typeof d=="function"&&(Vo(e,n,d,r),u=e.memoizedState),(l=Nt||au(e,n,l,r,m,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ud(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Je(e.type,l),o.props=c,h=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Be(u):(u=Ne(n)?an:ge.current,u=Fn(e,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==u)&&lu(e,o,r,u),Nt=!1,m=e.memoizedState,o.state=m,Ys(e,r,o,s);var _=e.memoizedState;l!==h||m!==_||Ee.current||Nt?(typeof y=="function"&&(Vo(e,n,y,r),_=e.memoizedState),(c=Nt||au(e,n,c,r,m,_,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Qo(t,e,n,r,i,s)}function Qo(t,e,n,r,s,i){Id(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Zl(e,n,!1),_t(t,e,i);r=e.stateNode,Bp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qn(e,t.child,null,i),e.child=qn(e,null,l,i)):ve(t,e,l,i),e.memoizedState=r.state,s&&Zl(e,n,!0),e.child}function Ld(t){var e=t.stateNode;e.pendingContext?Xl(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xl(t,e.context,!1),Wa(t,e.containerInfo)}function mu(t,e,n,r,s){return Bn(),za(s),e.flags|=256,ve(t,e,n,r),e.child}var Jo={dehydrated:null,treeContext:null,retryLane:0};function Yo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dd(t,e,n){var r=e.pendingProps,s=X.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(X,s&1),t===null)return qo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xi(o,r,0,null),t=on(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Yo(n),e.memoizedState=Jo,t):el(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return qp(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ft(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ft(l,i):(i=on(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Yo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Jo,r}return i=t.child,t=i.sibling,r=Ft(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function el(t,e){return e=xi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ms(t,e,n,r){return r!==null&&za(r),qn(e,t.child,null,n),t=el(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ro(Error(b(422))),ms(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=xi({mode:"visible",children:r.children},s,0,null),i=on(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&qn(e,t.child,null,o),e.child.memoizedState=Yo(o),e.memoizedState=Jo,i);if(!(e.mode&1))return ms(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(b(419)),r=ro(i,r,void 0),ms(t,e,o,r)}if(l=(o&t.childLanes)!==0,be||l){if(r=le,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xt(t,s),tt(r,t,s,-1))}return ol(),r=ro(Error(b(421))),ms(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=nm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$e=Dt(s.nextSibling),Oe=e,Y=!0,Ze=null,t!==null&&(De[Me++]=mt,De[Me++]=gt,De[Me++]=ln,mt=t.id,gt=t.overflow,ln=e),e=el(e,r.children),e.flags|=4096,e)}function gu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ho(t.return,e,n)}function so(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Md(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ve(t,e,r.children,n),r=X.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gu(t,n,e);else if(t.tag===19)gu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(X,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Xs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),so(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}so(e,!0,n,null,i);break;case"together":so(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $s(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _t(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=Ft(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ft(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Hp(t,e,n){switch(e.tag){case 3:Ld(e),Bn();break;case 5:cd(e);break;case 1:Ne(e.type)&&Ws(e);break;case 4:Wa(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;K(Qs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(X,X.current&1),e.flags|=128,null):n&e.child.childLanes?Dd(t,e,n):(K(X,X.current&1),t=_t(t,e,n),t!==null?t.sibling:null);K(X,X.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Md(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(X,X.current),r)break;return null;case 22:case 23:return e.lanes=0,Ad(t,e,n)}return _t(t,e,n)}var Ud,Xo,zd,Fd;Ud=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xo=function(){};zd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,rn(ut.current);var i=null;switch(n){case"input":s=xo(t,s),r=xo(t,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=So(t,s),r=So(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hs)}bo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Q("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Fd=function(t,e,n,r){n!==r&&(e.flags|=4)};function ar(t,e){if(!Y)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Vp(t,e,n){var r=e.pendingProps;switch(Ua(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(e),null;case 1:return Ne(e.type)&&Vs(),pe(e),null;case 3:return r=e.stateNode,Hn(),J(Ee),J(ge),Ka(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ze!==null&&(oa(Ze),Ze=null))),Xo(t,e),pe(e),null;case 5:Ga(e);var s=rn(Ur.current);if(n=e.type,t!==null&&e.stateNode!=null)zd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return pe(e),null}if(t=rn(ut.current),fs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[at]=e,r[Dr]=i,t=(e.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(s=0;s<fr.length;s++)Q(fr[s],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":bl(r,i),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Q("invalid",r);break;case"textarea":Nl(r,i),Q("invalid",r)}bo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&hs(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&hs(r.textContent,l,t),s=["children",""+l]):Nr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Q("scroll",r)}switch(n){case"input":ss(r),El(r,i,!0);break;case"textarea":ss(r),Cl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Hs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[at]=e,t[Dr]=r,Ud(t,e,!1,!1),e.stateNode=t;e:{switch(o=Eo(n,r),n){case"dialog":Q("cancel",t),Q("close",t),s=r;break;case"iframe":case"object":case"embed":Q("load",t),s=r;break;case"video":case"audio":for(s=0;s<fr.length;s++)Q(fr[s],t);s=r;break;case"source":Q("error",t),s=r;break;case"img":case"image":case"link":Q("error",t),Q("load",t),s=r;break;case"details":Q("toggle",t),s=r;break;case"input":bl(t,r),s=xo(t,r),Q("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),Q("invalid",t);break;case"textarea":Nl(t,r),s=So(t,r),Q("invalid",t);break;default:s=r}bo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?vc(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gc(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Cr(t,u):typeof u=="number"&&Cr(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nr.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Q("scroll",t):u!=null&&ja(t,i,u,o))}switch(n){case"input":ss(t),El(t,r,!1);break;case"textarea":ss(t),Cl(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?On(t,!!r.multiple,i,!1):r.defaultValue!=null&&On(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pe(e),null;case 6:if(t&&e.stateNode!=null)Fd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=rn(Ur.current),rn(ut.current),fs(e)){if(r=e.stateNode,n=e.memoizedProps,r[at]=e,(i=r.nodeValue!==n)&&(t=Oe,t!==null))switch(t.tag){case 3:hs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[at]=e,e.stateNode=r}return pe(e),null;case 13:if(J(X),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Y&&$e!==null&&e.mode&1&&!(e.flags&128))id(),Bn(),e.flags|=98560,i=!1;else if(i=fs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(b(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[at]=e}else Bn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pe(e),i=!1}else Ze!==null&&(oa(Ze),Ze=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||X.current&1?ie===0&&(ie=3):ol())),e.updateQueue!==null&&(e.flags|=4),pe(e),null);case 4:return Hn(),Xo(t,e),t===null&&Ir(e.stateNode.containerInfo),pe(e),null;case 10:return qa(e.type._context),pe(e),null;case 17:return Ne(e.type)&&Vs(),pe(e),null;case 19:if(J(X),i=e.memoizedState,i===null)return pe(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ar(i,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xs(t),o!==null){for(e.flags|=128,ar(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(X,X.current&1|2),e.child}t=t.sibling}i.tail!==null&&ne()>Wn&&(e.flags|=128,r=!0,ar(i,!1),e.lanes=4194304)}else{if(!r)if(t=Xs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ar(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Y)return pe(e),null}else 2*ne()-i.renderingStartTime>Wn&&n!==1073741824&&(e.flags|=128,r=!0,ar(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ne(),e.sibling=null,n=X.current,K(X,r?n&1|2:n&1),e):(pe(e),null);case 22:case 23:return il(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Re&1073741824&&(pe(e),e.subtreeFlags&6&&(e.flags|=8192)):pe(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function Wp(t,e){switch(Ua(e),e.tag){case 1:return Ne(e.type)&&Vs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hn(),J(Ee),J(ge),Ka(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ga(e),null;case 13:if(J(X),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Bn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(X),null;case 4:return Hn(),null;case 10:return qa(e.type._context),null;case 22:case 23:return il(),null;case 24:return null;default:return null}}var gs=!1,me=!1,Gp=typeof WeakSet=="function"?WeakSet:Set,T=null;function Rn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){te(t,e,r)}else n.current=null}function Zo(t,e,n){try{n()}catch(r){te(t,e,r)}}var yu=!1;function Kp(t,e){if(Lo=Fs,t=Wc(),Da(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=t,m=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===t)break t;if(m===n&&++c===s&&(l=o),m===i&&++d===r&&(u=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Do={focusedElem:t,selectionRange:n},Fs=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var k=_.memoizedProps,N=_.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?k:Je(e.type,k),N);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(v){te(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return _=yu,yu=!1,_}function _r(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zo(e,n,i)}s=s.next}while(s!==r)}}function vi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ea(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Bd(t){var e=t.alternate;e!==null&&(t.alternate=null,Bd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[at],delete e[Dr],delete e[zo],delete e[Tp],delete e[Rp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qd(t){return t.tag===5||t.tag===3||t.tag===4}function vu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ta(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hs));else if(r!==4&&(t=t.child,t!==null))for(ta(t,e,n),t=t.sibling;t!==null;)ta(t,e,n),t=t.sibling}function na(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(na(t,e,n),t=t.sibling;t!==null;)na(t,e,n),t=t.sibling}var ue=null,Ye=!1;function jt(t,e,n){for(n=n.child;n!==null;)Hd(t,e,n),n=n.sibling}function Hd(t,e,n){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(ci,n)}catch{}switch(n.tag){case 5:me||Rn(n,e);case 6:var r=ue,s=Ye;ue=null,jt(t,e,n),ue=r,Ye=s,ue!==null&&(Ye?(t=ue,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ue.removeChild(n.stateNode));break;case 18:ue!==null&&(Ye?(t=ue,n=n.stateNode,t.nodeType===8?Yi(t.parentNode,n):t.nodeType===1&&Yi(t,n),$r(t)):Yi(ue,n.stateNode));break;case 4:r=ue,s=Ye,ue=n.stateNode.containerInfo,Ye=!0,jt(t,e,n),ue=r,Ye=s;break;case 0:case 11:case 14:case 15:if(!me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zo(n,e,o),s=s.next}while(s!==r)}jt(t,e,n);break;case 1:if(!me&&(Rn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){te(n,e,l)}jt(t,e,n);break;case 21:jt(t,e,n);break;case 22:n.mode&1?(me=(r=me)||n.memoizedState!==null,jt(t,e,n),me=r):jt(t,e,n);break;default:jt(t,e,n)}}function wu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Gp),e.forEach(function(r){var s=rm.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ke(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ue=l.stateNode,Ye=!1;break e;case 3:ue=l.stateNode.containerInfo,Ye=!0;break e;case 4:ue=l.stateNode.containerInfo,Ye=!0;break e}l=l.return}if(ue===null)throw Error(b(160));Hd(i,o,s),ue=null,Ye=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){te(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vd(e,t),e=e.sibling}function Vd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ke(e,t),it(t),r&4){try{_r(3,t,t.return),vi(3,t)}catch(k){te(t,t.return,k)}try{_r(5,t,t.return)}catch(k){te(t,t.return,k)}}break;case 1:Ke(e,t),it(t),r&512&&n!==null&&Rn(n,n.return);break;case 5:if(Ke(e,t),it(t),r&512&&n!==null&&Rn(n,n.return),t.flags&32){var s=t.stateNode;try{Cr(s,"")}catch(k){te(t,t.return,k)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&fc(s,i),Eo(l,o);var c=Eo(l,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?vc(s,h):d==="dangerouslySetInnerHTML"?gc(s,h):d==="children"?Cr(s,h):ja(s,d,h,c)}switch(l){case"input":_o(s,i);break;case"textarea":pc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?On(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?On(s,!!i.multiple,i.defaultValue,!0):On(s,!!i.multiple,i.multiple?[]:"",!1))}s[Dr]=i}catch(k){te(t,t.return,k)}}break;case 6:if(Ke(e,t),it(t),r&4){if(t.stateNode===null)throw Error(b(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(k){te(t,t.return,k)}}break;case 3:if(Ke(e,t),it(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$r(e.containerInfo)}catch(k){te(t,t.return,k)}break;case 4:Ke(e,t),it(t);break;case 13:Ke(e,t),it(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(rl=ne())),r&4&&wu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(me=(c=me)||d,Ke(e,t),me=c):Ke(e,t),it(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(h=T=d;T!==null;){switch(m=T,y=m.child,m.tag){case 0:case 11:case 14:case 15:_r(4,m,m.return);break;case 1:Rn(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(k){te(r,n,k)}}break;case 5:Rn(m,m.return);break;case 22:if(m.memoizedState!==null){_u(h);continue}}y!==null?(y.return=m,T=y):_u(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=yc("display",o))}catch(k){te(t,t.return,k)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(k){te(t,t.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ke(e,t),it(t),r&4&&wu(t);break;case 21:break;default:Ke(e,t),it(t)}}function it(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qd(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Cr(s,""),r.flags&=-33);var i=vu(t);na(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=vu(t);ta(t,l,o);break;default:throw Error(b(161))}}catch(u){te(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qp(t,e,n){T=t,Wd(t)}function Wd(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||gs;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||me;l=gs;var c=me;if(gs=o,(me=u)&&!c)for(T=s;T!==null;)o=T,u=o.child,o.tag===22&&o.memoizedState!==null?ku(s):u!==null?(u.return=o,T=u):ku(s);for(;i!==null;)T=i,Wd(i),i=i.sibling;T=s,gs=l,me=c}xu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):xu(t)}}function xu(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:me||vi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!me)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Je(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&su(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}su(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$r(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}me||e.flags&512&&ea(e)}catch(m){te(e,e.return,m)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function _u(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function ku(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vi(4,e)}catch(u){te(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){te(e,s,u)}}var i=e.return;try{ea(e)}catch(u){te(e,i,u)}break;case 5:var o=e.return;try{ea(e)}catch(u){te(e,o,u)}}}catch(u){te(e,e.return,u)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var Jp=Math.ceil,ti=kt.ReactCurrentDispatcher,tl=kt.ReactCurrentOwner,ze=kt.ReactCurrentBatchConfig,q=0,le=null,re=null,ce=0,Re=0,$n=Wt(0),ie=0,qr=null,cn=0,wi=0,nl=0,kr=null,Se=null,rl=0,Wn=1/0,ht=null,ni=!1,ra=null,Ut=null,ys=!1,Ot=null,ri=0,Sr=0,sa=null,Os=-1,As=0;function we(){return q&6?ne():Os!==-1?Os:Os=ne()}function zt(t){return t.mode&1?q&2&&ce!==0?ce&-ce:Op.transition!==null?(As===0&&(As=Tc()),As):(t=W,t!==0||(t=window.event,t=t===void 0?16:Dc(t.type)),t):1}function tt(t,e,n,r){if(50<Sr)throw Sr=0,sa=null,Error(b(185));Qr(t,n,r),(!(q&2)||t!==le)&&(t===le&&(!(q&2)&&(wi|=n),ie===4&&Tt(t,ce)),Ce(t,r),n===1&&q===0&&!(e.mode&1)&&(Wn=ne()+500,mi&&Gt()))}function Ce(t,e){var n=t.callbackNode;Of(t,e);var r=zs(t,t===le?ce:0);if(r===0)n!==null&&Rl(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rl(n),e===1)t.tag===0?$p(Su.bind(null,t)):nd(Su.bind(null,t)),Cp(function(){!(q&6)&&Gt()}),n=null;else{switch(Rc(r)){case 1:n=Pa;break;case 4:n=Cc;break;case 16:n=Us;break;case 536870912:n=Pc;break;default:n=Us}n=eh(n,Gd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Gd(t,e){if(Os=-1,As=0,q&6)throw Error(b(327));var n=t.callbackNode;if(Mn()&&t.callbackNode!==n)return null;var r=zs(t,t===le?ce:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=si(t,r);else{e=r;var s=q;q|=2;var i=Qd();(le!==t||ce!==e)&&(ht=null,Wn=ne()+500,sn(t,e));do try{Zp();break}catch(l){Kd(t,l)}while(!0);Ba(),ti.current=i,q=s,re!==null?e=0:(le=null,ce=0,e=ie)}if(e!==0){if(e===2&&(s=Ro(t),s!==0&&(r=s,e=ia(t,s))),e===1)throw n=qr,sn(t,0),Tt(t,r),Ce(t,ne()),n;if(e===6)Tt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Yp(s)&&(e=si(t,r),e===2&&(i=Ro(t),i!==0&&(r=i,e=ia(t,i))),e===1))throw n=qr,sn(t,0),Tt(t,r),Ce(t,ne()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:Xt(t,Se,ht);break;case 3:if(Tt(t,r),(r&130023424)===r&&(e=rl+500-ne(),10<e)){if(zs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){we(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Uo(Xt.bind(null,t,Se,ht),e);break}Xt(t,Se,ht);break;case 4:if(Tt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-et(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jp(r/1960))-r,10<r){t.timeoutHandle=Uo(Xt.bind(null,t,Se,ht),r);break}Xt(t,Se,ht);break;case 5:Xt(t,Se,ht);break;default:throw Error(b(329))}}}return Ce(t,ne()),t.callbackNode===n?Gd.bind(null,t):null}function ia(t,e){var n=kr;return t.current.memoizedState.isDehydrated&&(sn(t,e).flags|=256),t=si(t,e),t!==2&&(e=Se,Se=n,e!==null&&oa(e)),t}function oa(t){Se===null?Se=t:Se.push.apply(Se,t)}function Yp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tt(t,e){for(e&=~nl,e&=~wi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-et(e),r=1<<n;t[n]=-1,e&=~r}}function Su(t){if(q&6)throw Error(b(327));Mn();var e=zs(t,0);if(!(e&1))return Ce(t,ne()),null;var n=si(t,e);if(t.tag!==0&&n===2){var r=Ro(t);r!==0&&(e=r,n=ia(t,r))}if(n===1)throw n=qr,sn(t,0),Tt(t,e),Ce(t,ne()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xt(t,Se,ht),Ce(t,ne()),null}function sl(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(Wn=ne()+500,mi&&Gt())}}function dn(t){Ot!==null&&Ot.tag===0&&!(q&6)&&Mn();var e=q;q|=1;var n=ze.transition,r=W;try{if(ze.transition=null,W=1,t)return t()}finally{W=r,ze.transition=n,q=e,!(q&6)&&Gt()}}function il(){Re=$n.current,J($n)}function sn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Np(n)),re!==null)for(n=re.return;n!==null;){var r=n;switch(Ua(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vs();break;case 3:Hn(),J(Ee),J(ge),Ka();break;case 5:Ga(r);break;case 4:Hn();break;case 13:J(X);break;case 19:J(X);break;case 10:qa(r.type._context);break;case 22:case 23:il()}n=n.return}if(le=t,re=t=Ft(t.current,null),ce=Re=e,ie=0,qr=null,nl=wi=cn=0,Se=kr=null,nn!==null){for(e=0;e<nn.length;e++)if(n=nn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}nn=null}return t}function Kd(t,e){do{var n=re;try{if(Ba(),Ts.current=ei,Zs){for(var r=Z.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zs=!1}if(un=0,ae=se=Z=null,xr=!1,zr=0,tl.current=null,n===null||n.return===null){ie=1,qr=e,re=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=ce,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=cu(o);if(y!==null){y.flags&=-257,du(y,o,l,i,e),y.mode&1&&uu(i,c,e),e=y,u=c;var _=e.updateQueue;if(_===null){var k=new Set;k.add(u),e.updateQueue=k}else _.add(u);break e}else{if(!(e&1)){uu(i,c,e),ol();break e}u=Error(b(426))}}else if(Y&&l.mode&1){var N=cu(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),du(N,o,l,i,e),za(Vn(u,l));break e}}i=u=Vn(u,l),ie!==4&&(ie=2),kr===null?kr=[i]:kr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Rd(i,u,e);ru(i,g);break e;case 1:l=u;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ut===null||!Ut.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var v=$d(i,l,e);ru(i,v);break e}}i=i.return}while(i!==null)}Yd(n)}catch(S){e=S,re===n&&n!==null&&(re=n=n.return);continue}break}while(!0)}function Qd(){var t=ti.current;return ti.current=ei,t===null?ei:t}function ol(){(ie===0||ie===3||ie===2)&&(ie=4),le===null||!(cn&268435455)&&!(wi&268435455)||Tt(le,ce)}function si(t,e){var n=q;q|=2;var r=Qd();(le!==t||ce!==e)&&(ht=null,sn(t,e));do try{Xp();break}catch(s){Kd(t,s)}while(!0);if(Ba(),q=n,ti.current=r,re!==null)throw Error(b(261));return le=null,ce=0,ie}function Xp(){for(;re!==null;)Jd(re)}function Zp(){for(;re!==null&&!jf();)Jd(re)}function Jd(t){var e=Zd(t.alternate,t,Re);t.memoizedProps=t.pendingProps,e===null?Yd(t):re=e,tl.current=null}function Yd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Wp(n,e),n!==null){n.flags&=32767,re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ie=6,re=null;return}}else if(n=Vp(n,e,Re),n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);ie===0&&(ie=5)}function Xt(t,e,n){var r=W,s=ze.transition;try{ze.transition=null,W=1,em(t,e,n,r)}finally{ze.transition=s,W=r}return null}function em(t,e,n,r){do Mn();while(Ot!==null);if(q&6)throw Error(b(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Af(t,i),t===le&&(re=le=null,ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ys||(ys=!0,eh(Us,function(){return Mn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ze.transition,ze.transition=null;var o=W;W=1;var l=q;q|=4,tl.current=null,Kp(t,n),Vd(n,t),xp(Do),Fs=!!Lo,Do=Lo=null,t.current=n,Qp(n),bf(),q=l,W=o,ze.transition=i}else t.current=n;if(ys&&(ys=!1,Ot=t,ri=s),i=t.pendingLanes,i===0&&(Ut=null),Cf(n.stateNode),Ce(t,ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ni)throw ni=!1,t=ra,ra=null,t;return ri&1&&t.tag!==0&&Mn(),i=t.pendingLanes,i&1?t===sa?Sr++:(Sr=0,sa=t):Sr=0,Gt(),null}function Mn(){if(Ot!==null){var t=Rc(ri),e=ze.transition,n=W;try{if(ze.transition=null,W=16>t?16:t,Ot===null)var r=!1;else{if(t=Ot,Ot=null,ri=0,q&6)throw Error(b(331));var s=q;for(q|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(T=c;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:_r(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var m=d.sibling,y=d.return;if(Bd(d),d===c){T=null;break}if(m!==null){m.return=y,T=m;break}T=y}}}var _=i.alternate;if(_!==null){var k=_.child;if(k!==null){_.child=null;do{var N=k.sibling;k.sibling=null,k=N}while(k!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_r(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,T=g;break e}T=i.return}}var f=t.current;for(T=f;T!==null;){o=T;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,T=p;else e:for(o=f;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vi(9,l)}}catch(S){te(l,l.return,S)}if(l===o){T=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,T=v;break e}T=l.return}}if(q=s,Gt(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(ci,t)}catch{}r=!0}return r}finally{W=n,ze.transition=e}}return!1}function ju(t,e,n){e=Vn(n,e),e=Rd(t,e,1),t=Mt(t,e,1),e=we(),t!==null&&(Qr(t,1,e),Ce(t,e))}function te(t,e,n){if(t.tag===3)ju(t,t,n);else for(;e!==null;){if(e.tag===3){ju(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ut===null||!Ut.has(r))){t=Vn(n,t),t=$d(e,t,1),e=Mt(e,t,1),t=we(),e!==null&&(Qr(e,1,t),Ce(e,t));break}}e=e.return}}function tm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=we(),t.pingedLanes|=t.suspendedLanes&n,le===t&&(ce&n)===n&&(ie===4||ie===3&&(ce&130023424)===ce&&500>ne()-rl?sn(t,0):nl|=n),Ce(t,e)}function Xd(t,e){e===0&&(t.mode&1?(e=as,as<<=1,!(as&130023424)&&(as=4194304)):e=1);var n=we();t=xt(t,e),t!==null&&(Qr(t,e,n),Ce(t,n))}function nm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Xd(t,n)}function rm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),Xd(t,n)}var Zd;Zd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ee.current)be=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return be=!1,Hp(t,e,n);be=!!(t.flags&131072)}else be=!1,Y&&e.flags&1048576&&rd(e,Ks,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$s(t,e),t=e.pendingProps;var s=Fn(e,ge.current);Dn(e,n),s=Ja(null,e,r,t,s,n);var i=Ya();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ne(r)?(i=!0,Ws(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Va(e),s.updater=yi,e.stateNode=s,s._reactInternals=e,Wo(e,r,t,n),e=Qo(null,e,r,!0,i,n)):(e.tag=0,Y&&i&&Ma(e),ve(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch($s(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=im(r),t=Je(r,t),s){case 0:e=Ko(null,e,r,t,n);break e;case 1:e=pu(null,e,r,t,n);break e;case 11:e=hu(null,e,r,t,n);break e;case 14:e=fu(null,e,r,Je(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Je(r,s),Ko(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Je(r,s),pu(t,e,r,s,n);case 3:e:{if(Ld(e),t===null)throw Error(b(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ud(t,e),Ys(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vn(Error(b(423)),e),e=mu(t,e,r,n,s);break e}else if(r!==s){s=Vn(Error(b(424)),e),e=mu(t,e,r,n,s);break e}else for($e=Dt(e.stateNode.containerInfo.firstChild),Oe=e,Y=!0,Ze=null,n=ad(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bn(),r===s){e=_t(t,e,n);break e}ve(t,e,r,n)}e=e.child}return e;case 5:return cd(e),t===null&&qo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Mo(r,s)?o=null:i!==null&&Mo(r,i)&&(e.flags|=32),Id(t,e),ve(t,e,o,n),e.child;case 6:return t===null&&qo(e),null;case 13:return Dd(t,e,n);case 4:return Wa(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qn(e,null,r,n):ve(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Je(r,s),hu(t,e,r,s,n);case 7:return ve(t,e,e.pendingProps,n),e.child;case 8:return ve(t,e,e.pendingProps.children,n),e.child;case 12:return ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,K(Qs,r._currentValue),r._currentValue=o,i!==null)if(rt(i.value,o)){if(i.children===s.children&&!Ee.current){e=_t(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=yt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Ho(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(b(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ho(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ve(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Dn(e,n),s=Be(s),r=r(s),e.flags|=1,ve(t,e,r,n),e.child;case 14:return r=e.type,s=Je(r,e.pendingProps),s=Je(r.type,s),fu(t,e,r,s,n);case 15:return Od(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Je(r,s),$s(t,e),e.tag=1,Ne(r)?(t=!0,Ws(e)):t=!1,Dn(e,n),Td(e,r,s),Wo(e,r,s,n),Qo(null,e,r,!0,t,n);case 19:return Md(t,e,n);case 22:return Ad(t,e,n)}throw Error(b(156,e.tag))};function eh(t,e){return Nc(t,e)}function sm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(t,e,n,r){return new sm(t,e,n,r)}function al(t){return t=t.prototype,!(!t||!t.isReactComponent)}function im(t){if(typeof t=="function")return al(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ea)return 11;if(t===Na)return 14}return 2}function Ft(t,e){var n=t.alternate;return n===null?(n=Ue(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Is(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")al(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case kn:return on(n.children,s,i,e);case ba:o=8,s|=8;break;case go:return t=Ue(12,n,e,s|2),t.elementType=go,t.lanes=i,t;case yo:return t=Ue(13,n,e,s),t.elementType=yo,t.lanes=i,t;case vo:return t=Ue(19,n,e,s),t.elementType=vo,t.lanes=i,t;case cc:return xi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lc:o=10;break e;case uc:o=9;break e;case Ea:o=11;break e;case Na:o=14;break e;case Et:o=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=Ue(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function on(t,e,n,r){return t=Ue(7,t,r,e),t.lanes=n,t}function xi(t,e,n,r){return t=Ue(22,t,r,e),t.elementType=cc,t.lanes=n,t.stateNode={isHidden:!1},t}function io(t,e,n){return t=Ue(6,t,null,e),t.lanes=n,t}function oo(t,e,n){return e=Ue(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function om(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zi(0),this.expirationTimes=zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ll(t,e,n,r,s,i,o,l,u){return t=new om(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ue(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Va(i),t}function am(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_n,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function th(t){if(!t)return Ht;t=t._reactInternals;e:{if(fn(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ne(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(Ne(n))return td(t,n,e)}return e}function nh(t,e,n,r,s,i,o,l,u){return t=ll(n,r,!0,t,s,i,o,l,u),t.context=th(null),n=t.current,r=we(),s=zt(n),i=yt(r,s),i.callback=e??null,Mt(n,i,s),t.current.lanes=s,Qr(t,s,r),Ce(t,r),t}function _i(t,e,n,r){var s=e.current,i=we(),o=zt(s);return n=th(n),e.context===null?e.context=n:e.pendingContext=n,e=yt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mt(s,e,o),t!==null&&(tt(t,s,o,i),Ps(t,s,o)),o}function ii(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ul(t,e){bu(t,e),(t=t.alternate)&&bu(t,e)}function lm(){return null}var rh=typeof reportError=="function"?reportError:function(t){console.error(t)};function cl(t){this._internalRoot=t}ki.prototype.render=cl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));_i(t,e,null,null)};ki.prototype.unmount=cl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dn(function(){_i(null,t,null,null)}),e[wt]=null}};function ki(t){this._internalRoot=t}ki.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ac();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pt.length&&e!==0&&e<Pt[n].priority;n++);Pt.splice(n,0,t),n===0&&Lc(t)}};function dl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Si(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Eu(){}function um(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ii(o);i.call(c)}}var o=nh(e,r,t,0,null,!1,!1,"",Eu);return t._reactRootContainer=o,t[wt]=o.current,Ir(t.nodeType===8?t.parentNode:t),dn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=ii(u);l.call(c)}}var u=ll(t,0,!1,null,null,!1,!1,"",Eu);return t._reactRootContainer=u,t[wt]=u.current,Ir(t.nodeType===8?t.parentNode:t),dn(function(){_i(e,u,n,r)}),u}function ji(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=ii(o);l.call(u)}}_i(e,o,t,s)}else o=um(n,e,t,s,r);return ii(o)}$c=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hr(e.pendingLanes);n!==0&&(Ta(e,n|1),Ce(e,ne()),!(q&6)&&(Wn=ne()+500,Gt()))}break;case 13:dn(function(){var r=xt(t,1);if(r!==null){var s=we();tt(r,t,1,s)}}),ul(t,1)}};Ra=function(t){if(t.tag===13){var e=xt(t,134217728);if(e!==null){var n=we();tt(e,t,134217728,n)}ul(t,134217728)}};Oc=function(t){if(t.tag===13){var e=zt(t),n=xt(t,e);if(n!==null){var r=we();tt(n,t,e,r)}ul(t,e)}};Ac=function(){return W};Ic=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Co=function(t,e,n){switch(e){case"input":if(_o(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=pi(r);if(!s)throw Error(b(90));hc(r),_o(r,s)}}}break;case"textarea":pc(t,n);break;case"select":e=n.value,e!=null&&On(t,!!n.multiple,e,!1)}};_c=sl;kc=dn;var cm={usingClientEntryPoint:!1,Events:[Yr,En,pi,wc,xc,sl]},lr={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dm={bundleType:lr.bundleType,version:lr.version,rendererPackageName:lr.rendererPackageName,rendererConfig:lr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bc(t),t===null?null:t.stateNode},findFiberByHostInstance:lr.findFiberByHostInstance||lm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vs.isDisabled&&vs.supportsFiber)try{ci=vs.inject(dm),lt=vs}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cm;Ie.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dl(e))throw Error(b(200));return am(t,e,null,n)};Ie.createRoot=function(t,e){if(!dl(t))throw Error(b(299));var n=!1,r="",s=rh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ll(t,1,!1,null,null,n,!1,r,s),t[wt]=e.current,Ir(t.nodeType===8?t.parentNode:t),new cl(e)};Ie.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=bc(e),t=t===null?null:t.stateNode,t};Ie.flushSync=function(t){return dn(t)};Ie.hydrate=function(t,e,n){if(!Si(e))throw Error(b(200));return ji(null,t,e,!0,n)};Ie.hydrateRoot=function(t,e,n){if(!dl(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=rh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nh(e,null,t,1,n??null,s,!1,i,o),t[wt]=e.current,Ir(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ki(e)};Ie.render=function(t,e,n){if(!Si(e))throw Error(b(200));return ji(null,t,e,!1,n)};Ie.unmountComponentAtNode=function(t){if(!Si(t))throw Error(b(40));return t._reactRootContainer?(dn(function(){ji(null,null,t,!1,function(){t._reactRootContainer=null,t[wt]=null})}),!0):!1};Ie.unstable_batchedUpdates=sl;Ie.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Si(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return ji(t,e,n,!1,r)};Ie.version="18.3.1-next-f1338f8080-20240426";function sh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sh)}catch(t){console.error(t)}}sh(),sc.exports=Ie;var hm=sc.exports,ih,Nu=hm;ih=Nu.createRoot,Nu.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),H=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...c},d)=>A.createElement("svg",{ref:d,...fm,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${pm(t)}`,l].join(" "),...c},[...e.map(([h,m])=>A.createElement(h,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=H("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=H("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=H("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=H("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=H("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=H("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=H("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=H("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=H("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=H("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=H("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=H("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=H("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=H("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=H("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=H("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=H("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=H("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=H("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=H("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=H("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=H("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=H("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=H("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Cm({onSubmit:t,isLoading:e}){const[n,r]=A.useState(""),s=o=>{o.preventDefault(),n.trim()&&!e&&(t(n.trim()),r(""))},i=["Launch a successful online business","Learn web development in 6 months","Plan a two-week European vacation","Organize a charity fundraising event"];return a.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",children:a.jsx("div",{className:"text-3xl",children:""})})}),a.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-3",children:"Got Plans?"}),a.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Transform your goals into structured, actionable plans"}),a.jsx("p",{className:"text-lg text-gray-500",children:"Powered by AI agents for research, execution, and deployment"})]}),a.jsx("form",{onSubmit:s,className:"mb-8",children:a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{value:n,onChange:o=>r(o.target.value),placeholder:"Describe your goal or objective in detail...",className:"w-full h-32 p-6 pr-16 text-lg border-2 border-gray-200 rounded-2xl resize-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 placeholder-gray-400",disabled:e}),a.jsx("button",{type:"submit",disabled:!n.trim()||e,className:"absolute bottom-4 right-4 p-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:e?a.jsx(Pu,{className:"w-5 h-5 animate-spin"}):a.jsx(jm,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(Pu,{className:"w-5 h-5 mr-2 text-blue-500"}),"Try these example goals:"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:i.map((o,l)=>a.jsxs("button",{onClick:()=>r(o),className:"p-4 text-left bg-white rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all duration-200 text-gray-700 hover:text-gray-900",disabled:e,children:['"',o,'"']},l))})]})]})}const Pm="modulepreload",Tm=function(t){return"/"+t},Ru={},Zr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=Tm(u),u in Ru)return;Ru[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Pm,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Rm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Zn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class fl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class $m extends fl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Om extends fl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Am extends fl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ua;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ua||(ua={}));var Im=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class Lm{constructor(e,{headers:n={},customFetch:r,region:s=ua.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Rm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Im(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:u}=n;u||(u=this.region),u&&u!=="any"&&(l["x-region"]=u);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(_=>{throw new $m(_)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Om(d);if(!d.ok)throw new Am(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield d.json():m==="application/octet-stream"?y=yield d.blob():m==="text/event-stream"?y=d:m==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var je={},pl={},Ni={},es={},Ci={},Pi={},Dm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qn=Dm();const Mm=Qn.fetch,uh=Qn.fetch.bind(Qn),ch=Qn.Headers,Um=Qn.Request,zm=Qn.Response,Zn=Object.freeze(Object.defineProperty({__proto__:null,Headers:ch,Request:Um,Response:zm,default:uh,fetch:Mm},Symbol.toStringTag,{value:"Module"})),Fm=Uh(Zn);var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});let Bm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ti.default=Bm;var dh=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pi,"__esModule",{value:!0});const qm=dh(Fm),Hm=dh(Ti);let Vm=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=qm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,u;let c=null,d=null,h=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const k=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),N=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");k&&N&&N.length>1&&(h=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const k=await i.text();try{c=JSON.parse(k),Array.isArray(c)&&i.status===404&&(d=[],c=null,m=200,y="OK")}catch{i.status===404&&k===""?(m=204,y="No Content"):c={message:k}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,m=200,y="OK"),c&&this.shouldThrowOnError)throw new Hm.default(c)}return{error:c,data:d,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Pi.default=Vm;var Wm=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});const Gm=Wm(Pi);let Km=class extends Gm.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const u=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ci.default=Km;var Qm=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(es,"__esModule",{value:!0});const Jm=Qm(Ci);let Ym=class extends Jm.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};es.default=Ym;var Xm=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});const ur=Xm(es);let Zm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ur.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new ur.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new ur.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ur.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ur.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ni.default=Zm;var Ri={},$i={};Object.defineProperty($i,"__esModule",{value:!0});$i.version=void 0;$i.version="0.0.0-automated";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.DEFAULT_HEADERS=void 0;const eg=$i;Ri.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${eg.version}`};var hh=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pl,"__esModule",{value:!0});const tg=hh(Ni),ng=hh(es),rg=Ri;let sg=class fh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},rg.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new tg.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new fh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let u;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",u=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new ng.default({method:o,url:l,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};pl.default=sg;var er=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestError=je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;const ph=er(pl);je.PostgrestClient=ph.default;const mh=er(Ni);je.PostgrestQueryBuilder=mh.default;const gh=er(es);je.PostgrestFilterBuilder=gh.default;const yh=er(Ci);je.PostgrestTransformBuilder=yh.default;const vh=er(Pi);je.PostgrestBuilder=vh.default;const wh=er(Ti);je.PostgrestError=wh.default;var ig=je.default={PostgrestClient:ph.default,PostgrestQueryBuilder:mh.default,PostgrestFilterBuilder:gh.default,PostgrestTransformBuilder:yh.default,PostgrestBuilder:vh.default,PostgrestError:wh.default};const{PostgrestClient:og,PostgrestQueryBuilder:$y,PostgrestFilterBuilder:Oy,PostgrestTransformBuilder:Ay,PostgrestBuilder:Iy,PostgrestError:Ly}=ig;let ca;typeof window>"u"?ca=require("ws"):ca=window.WebSocket;const ag=ca,lg="2.11.10",ug={"X-Client-Info":`realtime-js/${lg}`},cg="1.0.0",xh=1e4,dg=1e3;var Un;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Un||(Un={}));var ye;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ye||(ye={}));var Xe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Xe||(Xe={}));var da;(function(t){t.websocket="websocket"})(da||(da={}));var en;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(en||(en={}));class hg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const u=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class _h{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(G||(G={}));const $u=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=fg(o,t,e,s),i),{})},fg=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?kh(i,o):ha(o)},kh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return yg(e,n)}switch(t){case G.bool:return pg(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return mg(e);case G.json:case G.jsonb:return gg(e);case G.timestamp:return vg(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return ha(e);default:return ha(e)}},ha=t=>t,pg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},gg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},yg=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>kh(e,l))}return t},vg=t=>typeof t=="string"?t.replace(" ","T"):t,Sh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class lo{constructor(e,n,r={},s=xh){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ou;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ou||(Ou={}));class jr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=jr.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=jr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const m=d.map(N=>N.presence_ref),y=h.map(N=>N.presence_ref),_=d.filter(N=>y.indexOf(N.presence_ref)<0),k=h.filter(N=>m.indexOf(N.presence_ref)<0);_.length>0&&(l[c]=_),k.length>0&&(u[c]=k)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(u),d.length>0){const h=e[l].map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0);e[l].unshift(...m)}r(l,d,u)}),this.map(o,(l,u)=>{let c=e[l];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,u),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Au;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Au||(Au={}));var Iu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Iu||(Iu={}));var ft;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ft||(ft={}));class ml{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lo(this,Xe.join,this.params,this.timeout),this.rejoinTimer=new _h(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xe.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new jr(this),this.broadcastEndpointURL=Sh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>e==null?void 0:e(ft.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(ft.CLOSED));const u={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(ft.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,_=[];for(let k=0;k<y;k++){const N=m[k],{filter:{event:g,schema:f,table:p,filter:v}}=N,S=d&&d[k];if(S&&S.event===g&&S.schema===f&&S.table===p&&S.filter===v)_.push(Object.assign(Object.assign({},N),{id:S.id}));else{this.unsubscribe(),this.state=ye.errored,e==null||e(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(ft.SUBSCRIBED);return}}).receive("error",d=>{this.state=ye.errored,e==null||e(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ye.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xe.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new lo(this,Xe.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new lo(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=Xe;if(r&&[l,u,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var _,k,N;return((_=y.filter)===null||_===void 0?void 0:_.event)==="*"||((N=(k=y.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(y=>y.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var _,k,N,g,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const v=y.id,S=(_=y.filter)===null||_===void 0?void 0:_.event;return v&&((k=n.ids)===null||k===void 0?void 0:k.includes(v))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const v=(f=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return v==="*"||v===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const _=m.data,{schema:k,table:N,commit_timestamp:g,type:f,errors:p}=_;m=Object.assign(Object.assign({},{schema:k,table:N,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(_))}y.callback(m,r)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ml.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xe.close,{},e)}_onError(e){this._on(Xe.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=$u(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=$u(e.columns,e.old_record)),n}}const Lu=()=>{},wg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xg{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=ug,this.params={},this.timeout=xh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lu,this.ref=0,this.logger=Lu,this.conn=null,this.sendBuffer=[],this.serializer=new hg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Zr(async()=>{const{default:u}=await Promise.resolve().then(()=>Zn);return{default:u}},void 0).then(({default:u})=>u(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${da.websocket}`,this.httpEndpoint=Sh(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new _h(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ag),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new _g(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cg}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Un.connecting:return en.Connecting;case Un.open:return en.Open;case Un.closing:return en.Closing;default:return en.Closed}}isConnected(){return this.connectionState()===en.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ml(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Xe.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(dg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xe.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([wg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class _g{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Un.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class gl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function oe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class kg extends gl{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fa extends gl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Sg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const jh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Zn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},jg=()=>Sg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zr(()=>Promise.resolve().then(()=>Zn),void 0)).Response:Response}),pa=t=>{if(Array.isArray(t))return t.map(n=>pa(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=pa(r)}),e};var pn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const uo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bg=(t,e,n)=>pn(void 0,void 0,void 0,function*(){const r=yield jg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new kg(uo(s),t.status||500))}).catch(s=>{e(new fa(uo(s),s))}):e(new fa(uo(t),t))}),Eg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ts(t,e,n,r,s,i){return pn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,Eg(e,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>bg(u,l,r))})})}function ai(t,e,n,r){return pn(this,void 0,void 0,function*(){return ts(t,"GET",e,n,r)})}function Ct(t,e,n,r,s){return pn(this,void 0,void 0,function*(){return ts(t,"POST",e,r,s,n)})}function Ng(t,e,n,r,s){return pn(this,void 0,void 0,function*(){return ts(t,"PUT",e,r,s,n)})}function Cg(t,e,n,r){return pn(this,void 0,void 0,function*(){return ts(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function bh(t,e,n,r,s){return pn(this,void 0,void 0,function*(){return ts(t,"DELETE",e,r,s,n)})}var ke=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const Pg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Du={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tg{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=jh(s)}uploadOrUpdate(e,n,r,s){return ke(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Du),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:c,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(oe(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ke(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:Du.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(u){if(oe(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return ke(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ct(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new gl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}update(e,n,r){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ke(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield Ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ct(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ke(this,void 0,void 0,function*(){try{const s=yield Ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}download(e,n){return ke(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ai(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(oe(l))return{data:null,error:l};throw l}})}info(e){return ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ai(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:pa(r),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}exists(e){return ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Cg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(oe(r)&&r instanceof fa){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield bh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}list(e,n,r){return ke(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Pg),n),{prefix:e||""});return{data:yield Ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Rg="2.7.1",$g={"X-Client-Info":`storage-js/${Rg}`};var gn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class Og{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},$g),n),this.fetch=jh(r)}listBuckets(){return gn(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(oe(e))return{data:null,error:e};throw e}})}getBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return gn(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return gn(this,void 0,void 0,function*(){try{return{data:yield Ng(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return gn(this,void 0,void 0,function*(){try{return{data:yield bh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}}class Ag extends Og{constructor(e,n={},r){super(e,n,r)}from(e){return new Tg(this.url,this.headers,e,this.fetch)}}const Ig="2.50.0";let pr="";typeof Deno<"u"?pr="deno":typeof document<"u"?pr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pr="react-native":pr="node";const Lg={"X-Client-Info":`supabase-js-${pr}/${Ig}`},Dg={headers:Lg},Mg={schema:"public"},Ug={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zg={};var Fg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const Bg=t=>{let e;return t?e=t:typeof fetch>"u"?e=uh:e=fetch,(...n)=>e(...n)},qg=()=>typeof Headers>"u"?ch:Headers,Hg=(t,e,n)=>{const r=Bg(n),s=qg();return(i,o)=>Fg(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Vg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};function Wg(t){return t.endsWith("/")?t:t+"/"}function Gg(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:u,auth:c,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Vg(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const Eh="2.70.0",xn=30*1e3,ma=3,co=ma*xn,Kg="http://localhost:9999",Qg="supabase.auth.token",Jg={"X-Client-Info":`gotrue-js/${Eh}`},ga="X-Supabase-Api-Version",Nh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xg=6e5;class yl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Zg extends yl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function e0(t){return L(t)&&t.name==="AuthApiError"}class Ch extends yl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Kt extends yl{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class bt extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function t0(t){return L(t)&&t.name==="AuthSessionMissingError"}class ws extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xs extends Kt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _s extends Kt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function n0(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class Mu extends Kt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ya extends Kt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ho(t){return L(t)&&t.name==="AuthRetryableFetchError"}class Uu extends Kt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class br extends Kt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zu=` 	
\r=`.split(""),r0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<zu.length;e+=1)t[zu[e].charCodeAt(0)]=-2;for(let e=0;e<li.length;e+=1)t[li[e].charCodeAt(0)]=e;return t})();function Fu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(li[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(li[r]),e.queuedBits-=6}}function Ph(t,e,n){const r=r0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Bu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{o0(o,r,n)};for(let o=0;o<t.length;o+=1)Ph(t.charCodeAt(o),s,i);return e.join("")}function s0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function i0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}s0(r,e)}}function o0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function a0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Ph(t.charCodeAt(s),n,r);return new Uint8Array(e)}function l0(t){const e=[];return i0(t,n=>e.push(n)),new Uint8Array(e)}function u0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Fu(s,n,r)),Fu(null,n,r),e.join("")}function c0(t){return Math.round(Date.now()/1e3)+t}function d0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",Jt={tested:!1,writable:!1},Er=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jt.tested)return Jt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jt.tested=!0,Jt.writable=!0}catch{Jt.tested=!0,Jt.writable=!1}return Jt.writable};function h0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Th=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>Zn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},f0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Rh=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ks=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ss=async(t,e)=>{await t.removeItem(e)};class Oi{constructor(){this.promise=new Oi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Oi.promiseConstructor=Promise;function fo(t){const e=t.split(".");if(e.length!==3)throw new br("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Yg.test(e[r]))throw new br("JWT not in base64url format");return{header:JSON.parse(Bu(e[0])),payload:JSON.parse(Bu(e[1])),signature:a0(e[2]),raw:{header:e[0],payload:e[1]}}}async function p0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function m0(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function g0(t){return("0"+t.toString(16)).substr(-2)}function y0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,g0).join("")}async function v0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function w0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await v0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yn(t,e,n=!1){const r=y0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Rh(t,`${e}-code-verifier`,s);const i=await w0(r);return[i,r===i?"plain":"s256"]}const x0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _0(t){const e=t.headers.get(ga);if(!e||!e.match(x0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function k0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function S0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const j0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vn(t){if(!j0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var b0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Zt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),E0=[502,503,504];async function qu(t){var e;if(!f0(t))throw new ya(Zt(t),0);if(E0.includes(t.status))throw new ya(Zt(t),t.status);let n;try{n=await t.json()}catch(i){throw new Ch(Zt(i),i)}let r;const s=_0(t);if(s&&s.getTime()>=Nh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Uu(Zt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new bt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Uu(Zt(n),t.status,n.weak_password.reasons);throw new Zg(Zt(n),t.status||500,r)}const N0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function M(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ga]||(i[ga]=Nh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await C0(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function C0(t,e,n,r,s,i){const o=N0(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new ya(Zt(u),0)}if(l.ok||await qu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await qu(u)}}function dt(t){var e;let n=null;$0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=c0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Hu(t){const e=dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function P0(t){return{data:t,error:null}}function T0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=b0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function R0(t){return t}function $0(t){return t.access_token&&t.refresh_token&&t.expires_in}const po=["global","local","others"];var O0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class A0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Th(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=po[0]){if(po.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${po.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Rt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=O0(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:T0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:R0});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);c[`${N}Page`]=k}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){vn(e);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){vn(e);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Rt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){vn(e);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Rt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){vn(e.userId);try{const{data:n,error:r}=await M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(e){vn(e.userId),vn(e.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}const I0={getItem:t=>Er()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Er()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Er()&&globalThis.localStorage.removeItem(t)}};function Vu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function L0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wn={debug:!!(globalThis&&Er()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $h extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class D0 extends $h{}async function M0(t,e,n){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new D0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}L0();const U0={url:Kg,storageKey:Qg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wu(t,e,n){return await n()}class Gr{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gr.nextInstanceID,Gr.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},U0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new A0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Th(s.fetch),this.lock=s.lock||Wu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=M0:this.lock=Wu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Er()?this.storage=I0:(this.memoryStorage={},this.storage=Vu(this.memoryStorage)):(this.memoryStorage={},this.storage=Vu(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Eh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=h0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Qe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),n0(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new Ch("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:dt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await yn(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:_},xform:dt})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:dt})}else throw new xs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hu})}else throw new xs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ws}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,u,c,d,h,m,y;let _,k;if("message"in e)_=e.message,k=e.signature;else{const{chain:N,wallet:g,statement:f,options:p}=e;let v;if(Qe())if(typeof g=="object")v=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))v=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=g}const S=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in v&&v.signIn){const j=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),f?{statement:f}:null));let w;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")w=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)w=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)_=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),k=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${S.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const j=await v.signMessage(new TextEncoder().encode(_),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=j}}try{const{data:N,error:g}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:u0(k)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:dt});if(g)throw g;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new ws}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:g})}catch(N){if(L(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const n=await ks(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:dt});if(await Ss(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ws}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:dt}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new ws}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await yn(this.storage,this.storageKey));const{error:h}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:u}=e,{data:c,error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new xs("You must provide either an email or phone number.")}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:dt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await yn(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:P0})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new bt;const{error:s}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await M(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await M(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new xs("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ks(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<co:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bt}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Rt})})}catch(n){if(L(n))return t0(n)&&(await this._removeSession(),await Ss(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new bt;const o=s.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await yn(this.storage,this.storageKey));const{data:c,error:d}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Rt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=fo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new bt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Qe())throw new _s("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _s(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Mu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _s("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Mu("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:c}=e;if(!i||!l||!o||!c)throw new _s("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;u&&(m=parseInt(u));const y=m-d;y*1e3<=xn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const _=m-h;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,m,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,m,d);const{data:k,error:N}=await this._getUser(i);if(N)throw N;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:c,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ks(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(e0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ss(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=d0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await yn(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,u,c,d;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Qe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await m0(async s=>(s>0&&await p0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ho(i)&&Date.now()+o-r<xn})}catch(r){if(this._debug(n,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Qe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ks(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<co;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${co}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),ho(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Oi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new bt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),L(i)){const o={session:null,error:i};return ho(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Rh(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ss(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/xn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xn}ms, refresh threshold is ${ma} ticks`),s<=ma&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $h)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await yn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await M(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=fo(s.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Xg>Date.now()))return r;const{data:s,error:i}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new br("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new br("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:y,error:_}=await this.getSession();if(_||!y.session)return{data:null,error:_};r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:u}}=fo(r);if(k0(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const c=S0(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,l0(`${l}.${u}`)))throw new br("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}Gr.nextInstanceID=0;const z0=Gr;class F0 extends z0{constructor(e){super(e)}}var B0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class q0{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Wg(e),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Mg,realtime:zg,auth:Object.assign(Object.assign({},Ug),{storageKey:c}),global:Dg},h=Gg(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Hg(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new og(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Lm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ag(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return B0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new xg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const H0=(t,e,n)=>new q0(t,e,n),V0=void 0,W0=void 0;throw new Error("Missing Supabase environment variables");const F=H0(V0,W0);async function Oh(t,e,n="detailed"){const{data:r,error:s}=await F.from("research_requests").insert({plan_id:t,query:e,status:"in_progress"}).select().single();if(s||!r)throw new Error("Failed to create research request");try{const{data:i,error:o}=await F.functions.invoke("research-agent",{body:{query:e.trim(),depth:n,sources:[]}});if(o)throw new Error(`Research function error: ${o.message}`);if(!i||!i.results)throw new Error("No research results returned");const l=i.results.map(d=>({request_id:r.id,source_url:d.source_url||null,title:d.title,content:d.content,summary:d.summary||null,relevance_score:Math.min(10,Math.max(1,d.relevance_score||5))})),{data:u,error:c}=await F.from("research_results").insert(l).select();if(c)throw new Error("Failed to save research results");return await F.from("research_requests").update({status:"completed"}).eq("id",r.id),u||[]}catch(i){console.error("Research error:",i),await F.from("research_requests").update({status:"failed"}).eq("id",r.id);const o=await G0(e);try{const l=o.map(c=>({request_id:r.id,source_url:c.source_url||null,title:c.title,content:c.content,summary:c.summary||null,relevance_score:c.relevance_score})),{data:u}=await F.from("research_results").insert(l).select();return u||o}catch(l){return console.error("Failed to save fallback results:",l),o}}}async function G0(t){const e=t.toLowerCase();return e.includes("market")||e.includes("business")||e.includes("competitor")?[{source_url:"https://marketresearch.com/industry-analysis",title:`Market Analysis: ${t}`,content:`Comprehensive market research for ${t} indicates strong growth potential with emerging opportunities. Industry experts suggest focusing on digital transformation and customer experience improvements. Key market drivers include technological advancement and changing consumer preferences.`,summary:"Market shows growth potential with focus on digital transformation",relevance_score:8},{source_url:"https://competitoranalysis.com/reports",title:`Competitive Analysis: ${t}`,content:`Competitive landscape analysis reveals opportunities for differentiation in ${t}. Top competitors show strengths in established market presence but weaknesses in innovation and customer service. Market gaps exist in mobile experience and personalization.`,summary:"Competitive analysis shows opportunities for differentiation",relevance_score:7},{source_url:"https://industryreport.com/trends",title:`Industry Trends: ${t}`,content:`Latest trends in ${t} show increased adoption of AI and automation, sustainable practices, and customer-centric approaches. Industry growth rate projected at 12-15% annually with significant investment in technology infrastructure.`,summary:"Industry trends favor AI adoption and sustainable practices",relevance_score:8}]:e.includes("learn")||e.includes("course")||e.includes("development")||e.includes("skill")?[{source_url:"https://education-platform.com/courses",title:`Learning Path: ${t}`,content:`Structured learning approach for ${t} includes foundational concepts, hands-on practice, and real-world projects. Recommended timeline: 3-6 months for proficiency. Key resources include online courses, documentation, and community forums.`,summary:"Structured 3-6 month learning path with hands-on practice",relevance_score:9},{source_url:"https://skillassessment.com/reports",title:`Skills Assessment: ${t}`,content:`Current market demand for ${t} skills shows 25% year-over-year growth. Top employers seek practical experience and portfolio projects. Average learning time: 200-400 hours for proficiency. High demand in tech, finance, and healthcare sectors.`,summary:"25% growth in demand, 200-400 hours typical learning time",relevance_score:8},{source_url:"https://learningresources.com/guides",title:`Resource Guide: ${t}`,content:`Comprehensive resource compilation for ${t} including free and paid options. Best practices include combining theoretical study with practical projects, joining communities, and seeking mentorship. Success rate higher with structured approach.`,summary:"Comprehensive resources with emphasis on practical projects",relevance_score:7}]:e.includes("travel")||e.includes("destination")||e.includes("vacation")?[{source_url:"https://travel-guide.com/destinations",title:`Travel Guide: ${t}`,content:`Complete travel information for ${t} including best times to visit, must-see attractions, local customs, and practical tips. Budget estimates, transportation options, and accommodation recommendations included. Safety guidelines and cultural considerations provided.`,summary:"Complete travel guide with budget estimates and cultural tips",relevance_score:9},{source_url:"https://travel-costs.com/calculator",title:`Travel Costs: ${t}`,content:`Detailed cost breakdown for ${t} including accommodation ($50-200/night), meals ($30-80/day), transportation, and activities. Seasonal price variations and money-saving tips. Budget options and luxury alternatives compared.`,summary:"Detailed cost breakdown with budget and luxury options",relevance_score:8},{source_url:"https://travel-requirements.com/info",title:`Travel Requirements: ${t}`,content:"Current travel requirements including visa policies, vaccination requirements, and documentation needed. Entry procedures, customs regulations, and travel insurance recommendations. Updated health and safety protocols.",summary:"Current travel requirements and health protocols",relevance_score:8}]:e.includes("technology")||e.includes("software")||e.includes("app")||e.includes("web")?[{source_url:"https://tech-analysis.com/reviews",title:`Technology Review: ${t}`,content:`In-depth technical analysis of ${t} covering features, performance, scalability, and implementation considerations. Comparison with alternatives, pros/cons analysis, and real-world case studies. Expert recommendations and best practices.`,summary:"Technical analysis with performance metrics and case studies",relevance_score:9},{source_url:"https://implementation-guide.com/tutorials",title:`Implementation Guide: ${t}`,content:`Step-by-step implementation guide for ${t} including setup instructions, configuration options, and common troubleshooting solutions. Code examples, architecture patterns, and optimization techniques provided.`,summary:"Step-by-step implementation with code examples",relevance_score:8},{source_url:"https://tech-trends.com/analysis",title:`Technology Trends: ${t}`,content:`Current trends and future outlook for ${t} in the technology landscape. Adoption rates, market leaders, emerging alternatives, and investment trends. Impact on business operations and competitive advantages.`,summary:"Technology trends and market adoption analysis",relevance_score:7}]:[{source_url:"https://research-database.com/analysis",title:`Comprehensive Analysis: ${t}`,content:`Detailed research findings for ${t} based on current data and expert analysis. Key insights include market opportunities, implementation strategies, and success factors. Multiple perspectives and case studies provide comprehensive understanding.`,summary:`Comprehensive research findings and expert analysis for ${t}`,relevance_score:7},{source_url:"https://expert-insights.com/reports",title:`Expert Insights: ${t}`,content:`Professional analysis and recommendations for ${t} from industry experts. Covers best practices, common challenges, and proven solutions. Strategic considerations and tactical implementation approaches discussed.`,summary:"Expert recommendations and best practices",relevance_score:8},{source_url:"https://case-studies.com/examples",title:`Case Studies: ${t}`,content:`Real-world examples and case studies related to ${t}. Success stories, lessons learned, and practical applications demonstrated. Measurable outcomes and implementation timelines provided for reference.`,summary:"Real-world case studies with measurable outcomes",relevance_score:6}]}async function K0(t){const{data:e}=await F.from("research_requests").select("*").eq("plan_id",t).order("created_at",{ascending:!1});if(!e)return{requests:[],results:{}};const n={};for(const r of e){const{data:s}=await F.from("research_results").select("*").eq("request_id",r.id).order("relevance_score",{ascending:!1});s&&(n[r.id]=s)}return{requests:e,results:n}}function Q0({plan:t,onClose:e}){const[n,r]=A.useState(""),[s,i]=A.useState("detailed"),[o,l]=A.useState(!1),[u,c]=A.useState([]),[d,h]=A.useState({}),[m,y]=A.useState(new Set),[_,k]=A.useState("");A.useEffect(()=>{N()},[t.id]);const N=async()=>{try{const{requests:x,results:$}=await K0(t.id);c(x),h($),x.length>0&&y(new Set([x[0].id]))}catch(x){console.error("Error loading research:",x)}},g=async()=>{if(!(!n.trim()||o)){l(!0),k("Initializing research...");try{const x=["Analyzing query...","Searching web sources...","Extracting relevant information...","Analyzing content quality...","Ranking by relevance...","Finalizing results..."];let $=0;const R=setInterval(()=>{$<x.length-1&&($++,k(x[$]))},2e3),B=await Oh(t.id,n.trim(),s);clearInterval(R),k("Research completed!"),await N(),r("");const E=u.find(z=>z.query===n.trim());E&&y(new Set([E.id]))}catch(x){console.error("Research failed:",x),k("Research failed. Please try again."),setTimeout(()=>k(""),3e3)}finally{l(!1),setTimeout(()=>k(""),5e3)}}},f=x=>{const $=new Set(m);$.has(x)?$.delete(x):$.add(x),y($)},p=x=>{switch(x){case"completed":return"text-green-600 bg-green-100";case"in_progress":return"text-blue-600 bg-blue-100";case"failed":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},v=x=>{switch(x){case"completed":return a.jsx(Bt,{className:"w-4 h-4"});case"in_progress":return a.jsx(nt,{className:"w-4 h-4 animate-spin"});case"failed":return a.jsx(Gn,{className:"w-4 h-4"});default:return a.jsx(nt,{className:"w-4 h-4"})}},S=x=>x>=8?"text-green-600 bg-green-100":x>=6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",j=x=>{switch(x){case"basic":return"Quick overview with 3-5 key sources";case"comprehensive":return"Exhaustive research with 8-12 detailed sources";default:return"Balanced research with 5-8 quality sources"}},w=[`Market analysis for ${t.title}`,`Best practices for ${t.title}`,`Case studies: ${t.title}`,`Tools and resources for ${t.title}`,`Common challenges in ${t.title}`,`Success metrics for ${t.title}`];return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg",children:a.jsx(aa,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Research Agent"}),a.jsxs("p",{className:"text-emerald-100",children:["Gathering insights for: ",t.title]})]})]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:a.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-white",children:""})})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Research Depth"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:["basic","detailed","comprehensive"].map(x=>a.jsxs("button",{onClick:()=>i(x),className:`p-3 rounded-lg border-2 transition-all text-center ${s===x?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 hover:border-gray-300 text-gray-600"}`,disabled:o,children:[a.jsx("div",{className:"font-medium capitalize",children:x}),a.jsx("div",{className:"text-xs mt-1",children:j(x)})]},x))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Research Query"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{type:"text",value:n,onChange:x=>r(x.target.value),placeholder:"What would you like to research?",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:border-emerald-500 focus:ring-4 focus:ring-emerald-100 transition-all",onKeyPress:x=>x.key==="Enter"&&g(),disabled:o}),a.jsx(la,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400"})]}),a.jsx("button",{onClick:g,disabled:!n.trim()||o,className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl hover:from-emerald-600 hover:to-teal-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center space-x-2",children:o?a.jsxs(a.Fragment,{children:[a.jsx(Cu,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:"Researching..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Hr,{className:"w-5 h-5"}),a.jsx("span",{children:"Research"})]})})]}),o&&_&&a.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2 text-blue-700",children:[a.jsx(Cu,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{className:"text-sm font-medium",children:_})]})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Suggested research topics:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:w.map((x,$)=>a.jsx("button",{onClick:()=>r(x),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",disabled:o,children:x},$))})]})]}),a.jsx("div",{className:"p-6",children:u.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Hr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No research conducted yet"}),a.jsx("p",{className:"text-gray-600",children:"Start by entering a research query above"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(oh,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Research History (",u.length," searches)"]}),u.map(x=>{const $=d[x.id]||[],R=m.has(x.id),B=$.length>0?Math.round($.reduce((E,z)=>E+z.relevance_score,0)/$.length):0;return a.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[a.jsx("button",{onClick:()=>f(x.id),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 flex items-center justify-between transition-colors",children:a.jsxs("div",{className:"flex items-center space-x-3 text-left flex-1",children:[a.jsx("div",{className:"flex-shrink-0",children:R?a.jsx(bi,{className:"w-5 h-5 text-gray-500"}):a.jsx(Ei,{className:"w-5 h-5 text-gray-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:x.query}),a.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[a.jsxs("span",{className:`px-2 py-1 text-xs rounded-full flex items-center space-x-1 ${p(x.status)}`,children:[v(x.status),a.jsx("span",{children:x.status})]}),a.jsxs("span",{className:"text-sm text-gray-500 flex items-center space-x-1",children:[a.jsx(mm,{className:"w-4 h-4"}),a.jsxs("span",{children:[$.length," results"]})]}),B>0&&a.jsxs("span",{className:`px-2 py-1 text-xs rounded-full ${S(B)}`,children:[B,"/10 avg relevance"]}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(x.created_at).toLocaleDateString()})]})]})]})}),R&&$.length>0&&a.jsx("div",{className:"p-4 bg-white",children:a.jsx("div",{className:"space-y-4",children:$.map(E=>a.jsxs("div",{className:"border border-gray-100 rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900 flex-1",children:E.title}),a.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(bm,{className:"w-4 h-4 text-yellow-500"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[E.relevance_score,"/10"]})]}),E.source_url&&a.jsx("a",{href:E.source_url,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-emerald-600 hover:text-emerald-700 transition-colors",title:"View source",children:a.jsx(oi,{className:"w-4 h-4"})})]})]}),E.summary&&a.jsxs("div",{className:"mb-3 p-3 bg-emerald-50 rounded-lg border-l-4 border-emerald-400",children:[a.jsxs("p",{className:"text-sm font-medium text-emerald-800 mb-1 flex items-center",children:[a.jsx(Nm,{className:"w-4 h-4 mr-1"}),"Key Finding:"]}),a.jsx("p",{className:"text-sm text-emerald-700",children:E.summary})]}),a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:E.content}),E.source_url&&a.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100",children:a.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[a.jsx(gm,{className:"w-3 h-3 mr-1"}),"Source: ",E.source_url]})})]},E.id))})})]},x.id)})]})})]})]})})}async function Ah(t,e,n){const{data:r,error:s}=await F.from("execution_requests").insert({plan_id:t,execution_type:e,instructions:n,status:"in_progress"}).select().single();if(s||!r)throw new Error("Failed to create execution request");try{const o=(await J0(r.execution_type,n)).map(c=>({...c,request_id:r.id})),{data:l,error:u}=await F.from("execution_results").insert(o).select();if(u)throw new Error("Failed to save execution results");return await F.from("execution_requests").update({status:"completed"}).eq("id",r.id),l||[]}catch(i){throw await F.from("execution_results").insert({request_id:r.id,output_type:"error",content:i instanceof Error?i.message:"Unknown error occurred",success:!1,error_message:i instanceof Error?i.message:"Unknown error"}),await F.from("execution_requests").update({status:"failed"}).eq("id",r.id),i}}async function J0(t,e){switch(t){case"code_generation":return await Y0(e);case"script_execution":return await X0(e);case"api_call":return await Z0(e);case"file_creation":return await ey(e);case"environment_setup":return await ty(e);default:throw new Error("Unknown execution type")}}async function Y0(t){return new Promise(e=>{setTimeout(()=>{const n=ny(t),r=ry(n,t);e([{output_type:"code",content:r,success:!0}])},1500)})}async function X0(t){return new Promise(e=>{setTimeout(()=>{const n=sy(t);e([{output_type:"command_output",content:n,success:!0}])},2e3)})}async function Z0(t){return new Promise(e=>{setTimeout(()=>{const n=iy(t);e([{output_type:"api_response",content:JSON.stringify(n,null,2),success:!0}])},1e3)})}async function ey(t){return new Promise(e=>{setTimeout(()=>{const n=oy(t);e(n.map(r=>({output_type:"file",content:r.content,file_path:r.path,success:!0})))},1500)})}async function ty(t){return new Promise(e=>{setTimeout(()=>{const n=ay(t);e([{output_type:"command_output",content:n,success:!0}])},3e3)})}function ny(t){const e=t.toLowerCase();return e.includes("react")||e.includes("component")?"react":e.includes("api")||e.includes("endpoint")?"api":e.includes("database")||e.includes("sql")?"database":e.includes("html")||e.includes("webpage")?"html":e.includes("css")||e.includes("style")?"css":e.includes("python")?"python":e.includes("node")||e.includes("javascript")?"javascript":"general"}function ry(t,e){switch(t){case"react":return`import React, { useState } from 'react'

// Generated React component based on: ${e}
export default function GeneratedComponent() {
  const [data, setData] = useState(null)

  return (
    <div className="p-6 bg-white rounded-lg shadow-md">
      <h2 className="text-2xl font-bold mb-4">Generated Component</h2>
      <p className="text-gray-600">
        This component was generated based on your instructions: {instructions}
      </p>
      {/* Add your custom logic here */}
    </div>
  )
}`;case"api":return`// Generated API endpoint based on: ${e}
import express from 'express'
const router = express.Router()

router.get('/api/generated', async (req, res) => {
  try {
    // Your API logic here
    const result = {
      message: 'Generated API endpoint',
      instructions: "${e}",
      timestamp: new Date().toISOString()
    }
    
    res.json(result)
  } catch (error) {
    res.status(500).json({ error: error.message })
  }
})

export default router`;case"database":return`-- Generated SQL based on: ${e}
CREATE TABLE IF NOT EXISTS generated_table (
  id SERIAL PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  description TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Insert sample data
INSERT INTO generated_table (name, description) VALUES
('Sample Item 1', 'Generated based on your instructions'),
('Sample Item 2', 'Modify as needed for your use case');

-- Query examples
SELECT * FROM generated_table WHERE created_at > NOW() - INTERVAL '1 day';`;case"html":return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generated Page</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        .header { background: #f4f4f4; padding: 20px; border-radius: 8px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Generated HTML Page</h1>
            <p>Based on: ${e}</p>
        </div>
        <!-- Add your content here -->
    </div>
</body>
</html>`;case"python":return`#!/usr/bin/env python3
"""
Generated Python script based on: ${e}
"""

import os
import sys
from datetime import datetime

def main():
    """Main function for the generated script."""
    print(f"Generated script running at {datetime.now()}")
    print(f"Instructions: ${e}")
    
    # Add your logic here
    
if __name__ == "__main__":
    main()`;case"javascript":return`// Generated JavaScript based on: ${e}
const fs = require('fs')
const path = require('path')

async function main() {
  console.log('Generated script running at', new Date().toISOString())
  console.log('Instructions:', '${e}')
  
  // Add your logic here
  
  return { success: true, message: 'Script completed successfully' }
}

// Execute if run directly
if (require.main === module) {
  main().catch(console.error)
}

module.exports = { main }`;default:return`// Generated code based on: ${e}

function generatedFunction() {
  // Implementation based on your instructions
  console.log('Generated function executing...')
  
  // Add your custom logic here
  
  return {
    status: 'success',
    message: 'Generated code executed successfully',
    instructions: '${e}'
  }
}

// Export for use in other modules
module.exports = { generatedFunction }`}}function sy(t){const e=[`$ node generated-script.js
Generated script running at ${new Date().toISOString()}
Instructions: ${t}
 Script executed successfully
 Processing completed
 All tasks finished`,`$ python generated-script.py
Starting execution...
Processing instructions: ${t}
 Step 1: Initialization complete
 Step 2: Data processing complete  
 Step 3: Output generation complete
 Execution completed successfully`,`$ npm run execute
> executing generated task...

 Task: ${t}
 Starting execution...
 Dependencies resolved
 Environment configured
 Task completed successfully
 Results saved to output/`];return e[Math.floor(Math.random()*e.length)]}function iy(t){const e=[{status:"success",data:{message:"API call executed successfully",instructions:t,timestamp:new Date().toISOString(),results:[{id:1,name:"Result 1",status:"completed"},{id:2,name:"Result 2",status:"pending"}]}},{status:"success",data:{response:"API integration completed",endpoint:"/api/generated",method:"GET",instructions:t,performance:{responseTime:"145ms",statusCode:200}}}];return e[Math.floor(Math.random()*e.length)]}function oy(t){return[{path:"generated/config.json",content:JSON.stringify({name:"Generated Configuration",instructions:t,version:"1.0.0",createdAt:new Date().toISOString(),settings:{debug:!1,environment:"production"}},null,2)},{path:"generated/README.md",content:`# Generated Project

## Overview
This project was generated based on the following instructions:
> ${t}

## Getting Started
1. Install dependencies
2. Configure environment variables
3. Run the application

## Generated Files
- \`config.json\` - Configuration settings
- \`README.md\` - This documentation file

## Next Steps
- Customize the configuration
- Add your specific requirements
- Test the implementation

Generated on: ${new Date().toLocaleString()}
`}]}function ay(t){return` Environment Setup Started
 Instructions: ${t}

 Setting up development environment...
 Node.js environment configured
 Dependencies installed
 Database connection established
 Environment variables loaded
 Development server configured
 Testing framework setup complete

 Environment setup completed successfully!

 Summary:
- Runtime: Node.js v18.17.0
- Package Manager: npm v9.6.7
- Database: Connected and ready
- Port: 3000 (available)
- Environment: development

 Your environment is ready for development!

Next steps:
1. Start the development server: npm run dev
2. Open http://localhost:3000
3. Begin coding your application`}async function ly(t){const{data:e}=await F.from("execution_requests").select("*").eq("plan_id",t).order("created_at",{ascending:!1});if(!e)return{requests:[],results:{}};const n={};for(const r of e){const{data:s}=await F.from("execution_results").select("*").eq("request_id",r.id).order("created_at",{ascending:!0});s&&(n[r.id]=s)}return{requests:e,results:n}}function uy({plan:t,onClose:e}){var j;const[n,r]=A.useState("code_generation"),[s,i]=A.useState(""),[o,l]=A.useState(!1),[u,c]=A.useState([]),[d,h]=A.useState({}),[m,y]=A.useState(new Set);A.useEffect(()=>{_()},[t.id]);const _=async()=>{try{const{requests:w,results:x}=await ly(t.id);c(w),h(x),w.length>0&&y(new Set([w[0].id]))}catch(w){console.error("Error loading execution history:",w)}},k=async()=>{if(!(!s.trim()||o)){l(!0);try{await Ah(t.id,n,s.trim()),await _(),i("");const w=u.find(x=>x.instructions===s.trim());w&&y(new Set([w.id]))}catch(w){console.error("Execution failed:",w),alert("Execution failed. Please try again.")}finally{l(!1)}}},N=w=>{const x=new Set(m);x.has(w)?x.delete(w):x.add(w),y(x)},g=[{value:"code_generation",label:"Code Generation",icon:vm,description:"Generate code files and components"},{value:"script_execution",label:"Script Execution",icon:ao,description:"Run scripts and commands"},{value:"api_call",label:"API Integration",icon:Hr,description:"Make API calls and integrations"},{value:"file_creation",label:"File Creation",icon:oh,description:"Create files and documentation"},{value:"environment_setup",label:"Environment Setup",icon:hl,description:"Configure development environments"}],f=w=>{switch(w){case"completed":return a.jsx(Bt,{className:"w-4 h-4 text-green-600"});case"failed":return a.jsx(Gn,{className:"w-4 h-4 text-red-600"});case"in_progress":return a.jsx(nt,{className:"w-4 h-4 text-blue-600 animate-spin"});default:return a.jsx(nt,{className:"w-4 h-4 text-gray-600"})}},p=w=>{switch(w){case"completed":return"text-green-600 bg-green-100";case"failed":return"text-red-600 bg-red-100";case"in_progress":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},v=w=>{switch(w){case"code_generation":return"text-purple-600 bg-purple-100";case"script_execution":return"text-green-600 bg-green-100";case"api_call":return"text-blue-600 bg-blue-100";case"file_creation":return"text-orange-600 bg-orange-100";case"environment_setup":return"text-indigo-600 bg-indigo-100";default:return"text-gray-600 bg-gray-100"}},S={code_generation:[`Create a React component for ${t.title}`,`Generate API endpoints for ${t.title}`,`Write a utility function for ${t.title}`,`Create a database schema for ${t.title}`],script_execution:[`Run tests for ${t.title}`,`Execute build process for ${t.title}`,`Deploy ${t.title} to production`,`Run database migrations for ${t.title}`],api_call:[`Integrate with external API for ${t.title}`,`Fetch data required for ${t.title}`,`Send notifications for ${t.title}`,`Sync data for ${t.title}`],file_creation:[`Create documentation for ${t.title}`,`Generate configuration files for ${t.title}`,`Create README for ${t.title}`,`Generate test files for ${t.title}`],environment_setup:[`Setup development environment for ${t.title}`,`Configure CI/CD pipeline for ${t.title}`,`Setup testing environment for ${t.title}`,`Configure production environment for ${t.title}`]};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg",children:a.jsx(Wr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Execution Agent"}),a.jsxs("p",{className:"text-purple-100",children:["Bringing ",t.title," to life"]})]})]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:a.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-white",children:""})})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Execution Type"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:g.map(w=>{const x=w.icon;return a.jsxs("button",{onClick:()=>r(w.value),className:`p-3 rounded-lg border-2 transition-all text-center ${n===w.value?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300 text-gray-600"}`,children:[a.jsx(x,{className:"w-6 h-6 mx-auto mb-2"}),a.jsx("div",{className:"text-xs font-medium",children:w.label})]},w.value)})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Execution Instructions"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"flex-1",children:a.jsx("textarea",{value:s,onChange:w=>i(w.target.value),placeholder:`Enter instructions for ${(j=g.find(w=>w.value===n))==null?void 0:j.label.toLowerCase()}...`,className:"w-full h-24 p-4 border border-gray-300 rounded-xl focus:border-purple-500 focus:ring-4 focus:ring-purple-100 transition-all resize-none",disabled:o})}),a.jsx("button",{onClick:k,disabled:!s.trim()||o,className:"px-6 py-4 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl hover:from-purple-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center space-x-2 self-start",children:o?a.jsxs(a.Fragment,{children:[a.jsx(nt,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:"Executing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Vr,{className:"w-5 h-5"}),a.jsx("span",{children:"Execute"})]})})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Suggested instructions:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:S[n].map((w,x)=>a.jsx("button",{onClick:()=>i(w),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",disabled:o,children:w},x))})]})]}),a.jsx("div",{className:"p-6",children:u.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ao,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No executions yet"}),a.jsx("p",{className:"text-gray-600",children:"Start by selecting an execution type and entering instructions"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(ao,{className:"w-5 h-5 mr-2 text-purple-600"}),"Execution History"]}),u.map(w=>{const x=d[w.id]||[],$=m.has(w.id),R=x.length>0;return a.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[a.jsx("button",{onClick:()=>N(w.id),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 flex items-center justify-between transition-colors",children:a.jsxs("div",{className:"flex items-center space-x-3 text-left",children:[a.jsx("div",{className:"flex-shrink-0",children:$?a.jsx(bi,{className:"w-5 h-5 text-gray-500"}):a.jsx(Ei,{className:"w-5 h-5 text-gray-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${v(w.execution_type)}`,children:w.execution_type.replace("_"," ")}),a.jsxs("span",{className:`px-2 py-1 text-xs rounded-full flex items-center space-x-1 ${p(w.status)}`,children:[f(w.status),a.jsx("span",{children:w.status})]}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(w.created_at).toLocaleString()})]}),a.jsx("p",{className:"font-medium text-gray-900 text-sm",children:w.instructions})]})]})}),$&&R&&a.jsx("div",{className:"p-4 bg-white border-t border-gray-100",children:a.jsx("div",{className:"space-y-4",children:x.map(B=>a.jsxs("div",{className:"border border-gray-100 rounded-lg overflow-hidden",children:[a.jsx("div",{className:`px-4 py-2 flex items-center justify-between ${B.success?"bg-green-50":"bg-red-50"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[B.success?a.jsx(Bt,{className:"w-4 h-4 text-green-600"}):a.jsx(Gn,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{className:"text-sm font-medium capitalize",children:B.output_type.replace("_"," ")}),B.file_path&&a.jsxs("span",{className:"text-xs text-gray-500",children:[" ",B.file_path]})]})}),a.jsx("div",{className:"p-4",children:B.error_message?a.jsxs("div",{className:"text-red-600 text-sm",children:[a.jsx("strong",{children:"Error:"})," ",B.error_message]}):a.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono bg-gray-50 p-3 rounded overflow-x-auto",children:B.content})})]},B.id))})})]},w.id)})]})})]})]})})}const cy={netlify_static:{name:"Netlify",description:"Deploy static websites and SPAs",supportsCustomDomain:!0,buildCommand:"npm run build",publishDir:"dist"},vercel_static:{name:"Vercel",description:"Deploy static and serverless applications",supportsCustomDomain:!0,buildCommand:"npm run build",publishDir:"dist"},github_pages:{name:"GitHub Pages",description:"Deploy static sites via GitHub",supportsCustomDomain:!1,buildCommand:"npm run build",publishDir:"dist"},custom_hosting:{name:"Custom Hosting",description:"Deploy to your own hosting provider",supportsCustomDomain:!0,buildCommand:"npm run build",publishDir:"dist"}};async function Ih(t,e,n,r){const{data:s,error:i}=await F.from("deployment_requests").insert({plan_id:t,execution_request_id:r,deployment_type:e,configuration:n,status:"in_progress"}).select().single();if(i||!s)throw new Error("Failed to create deployment request");try{const o=await dy(s,n),{data:l,error:u}=await F.from("deployment_results").insert({...o,request_id:s.id}).select().single();if(u)throw new Error("Failed to save deployment result");return await F.from("deployment_requests").update({status:o.success?"completed":"failed"}).eq("id",s.id),l}catch(o){const l=await F.from("deployment_results").insert({request_id:s.id,success:!1,error_message:o instanceof Error?o.message:"Unknown deployment error"}).select().single();if(await F.from("deployment_requests").update({status:"failed"}).eq("id",s.id),l.data)return l.data;throw o}}async function dy(t,e){switch(t.deployment_type){case"netlify_static":return await hy(e);case"vercel_static":return await fy(e);case"github_pages":return await py(e);case"custom_hosting":return await my(e);default:throw new Error("Unknown deployment type")}}async function hy(t){return new Promise(e=>{setTimeout(()=>{const n=`netlify-${Date.now()}`,r=t.subdomain||`project-${Math.random().toString(36).substr(2,8)}`;e({deployment_url:`https://${r}.netlify.app`,claim_url:`https://app.netlify.com/sites/${r}/overview`,deploy_id:n,success:!0,build_logs:Ai("Netlify",t)})},3e3)})}async function fy(t){return new Promise(e=>{setTimeout(()=>{const n=`vercel-${Date.now()}`,r=t.subdomain||`project-${Math.random().toString(36).substr(2,8)}`;e({deployment_url:`https://${r}.vercel.app`,claim_url:"https://vercel.com/dashboard",deploy_id:n,success:!0,build_logs:Ai("Vercel",t)})},2500)})}async function py(t){return new Promise(e=>{setTimeout(()=>{const n=t.username||"user",r=t.repository||"project";e({deployment_url:`https://${n}.github.io/${r}`,deploy_id:`github-${Date.now()}`,success:!0,build_logs:Ai("GitHub Pages",t)})},4e3)})}async function my(t){return new Promise(e=>{setTimeout(()=>{const n=t.domain||"example.com";e({deployment_url:`https://${n}`,deploy_id:`custom-${Date.now()}`,success:!0,build_logs:Ai("Custom Host",t)})},3500)})}function Ai(t,e){const n=new Date().toISOString();return` ${t} Deployment Started at ${n}

 Configuration:
${Object.entries(e).map(([r,s])=>`  ${r}: ${s}`).join(`
`)}

 Build Process:
 Installing dependencies...
   npm install completed (2.3s)

 Running build command...
   npm run build
   
   > build
   > vite build
   
   vite v5.4.2 building for production...
    34 modules transformed.
   dist/index.html                  0.46 kB  gzip:  0.30 kB
   dist/assets/index-DiwrgTda.css   1.25 kB  gzip:  0.62 kB
   dist/assets/index-BgFiYXyN.js   142.84 kB  gzip: 45.87 kB
    built in 1.42s

 Optimizing assets...
   Image optimization: 3 images processed
   CSS minification: -24% reduction
   JS compression: -68% reduction

 Uploading to ${t}...
   Uploading 15 files...
   Upload complete (1.8s)

 DNS propagation...
   DNS records updated
   SSL certificate provisioned
   CDN cache cleared

 Deployment successful!
   
 Performance:
   Build time: 4.2s
   Upload time: 1.8s
   Total deployment time: 8.7s
   
 Your site is now live and optimized for performance!`}async function gy(t){const{data:e}=await F.from("deployment_requests").select("*").eq("plan_id",t).order("created_at",{ascending:!1});if(!e)return{requests:[],results:{}};const n={};for(const r of e){const{data:s}=await F.from("deployment_results").select("*").eq("request_id",r.id).order("created_at",{ascending:!0});s&&(n[r.id]=s)}return{requests:e,results:n}}async function yy(t){const{data:e}=await F.from("execution_requests").select("*").eq("plan_id",t).in("execution_type",["code_generation","file_creation"]).eq("status","completed").order("created_at",{ascending:!1});if(!e)return{requests:[],results:{}};const n={};for(const r of e){const{data:s}=await F.from("execution_results").select("*").eq("request_id",r.id).eq("success",!0).order("created_at",{ascending:!0});s&&(n[r.id]=s)}return{requests:e,results:n}}function vy(){return cy}function wy({plan:t,onClose:e}){const[n,r]=A.useState("netlify_static"),[s,i]=A.useState({}),[o,l]=A.useState(!1),[u,c]=A.useState([]),[d,h]=A.useState({}),[m,y]=A.useState(new Set),[_,k]=A.useState({requests:[],results:{}}),[N,g]=A.useState(""),f=vy();A.useEffect(()=>{p(),v()},[t.id]);const p=async()=>{try{const{requests:E,results:z}=await gy(t.id);c(E),h(z),E.length>0&&y(new Set([E[0].id]))}catch(E){console.error("Error loading deployment history:",E)}},v=async()=>{try{const E=await yy(t.id);k(E)}catch(E){console.error("Error loading execution outputs:",E)}},S=async()=>{if(!o){l(!0);try{await Ih(t.id,n,s,N||void 0),await p(),i({});const E=u[0];E&&y(new Set([E.id]))}catch(E){console.error("Deployment failed:",E),alert("Deployment failed. Please try again.")}finally{l(!1)}}},j=E=>{const z=new Set(m);z.has(E)?z.delete(E):z.add(E),y(z)},w=(E,z)=>{i(he=>({...he,[E]:z}))},x=E=>{switch(E){case"completed":return a.jsx(Bt,{className:"w-4 h-4 text-green-600"});case"failed":return a.jsx(Gn,{className:"w-4 h-4 text-red-600"});case"in_progress":return a.jsx(nt,{className:"w-4 h-4 text-blue-600 animate-spin"});default:return a.jsx(nt,{className:"w-4 h-4 text-gray-600"})}},$=E=>{switch(E){case"completed":return"text-green-600 bg-green-100";case"failed":return"text-red-600 bg-red-100";case"in_progress":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},R=E=>{switch(E){case"netlify_static":return"text-emerald-600 bg-emerald-100";case"vercel_static":return"text-black bg-gray-100";case"github_pages":return"text-gray-900 bg-gray-100";case"custom_hosting":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},B=f[n];return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg",children:a.jsx(Kn,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Deployment Agent"}),a.jsxs("p",{className:"text-orange-100",children:["Making ",t.title," accessible to the world"]})]})]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:a.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-white",children:""})})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[_.requests.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Source Code to Deploy"}),a.jsxs("select",{value:N,onChange:E=>g(E.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-orange-500 focus:ring-4 focus:ring-orange-100 transition-all",children:[a.jsx("option",{value:"",children:"Select from execution outputs..."}),_.requests.map(E=>a.jsxs("option",{value:E.id,children:[E.execution_type.replace("_"," ")," - ",E.instructions.substring(0,50),"..."]},E.id))]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Deployment Provider"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:Object.entries(f).map(([E,z])=>a.jsxs("button",{onClick:()=>r(E),className:`p-4 rounded-lg border-2 transition-all text-left ${n===E?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-200 hover:border-gray-300 text-gray-600"}`,children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Hr,{className:"w-5 h-5 mr-2"}),a.jsx("div",{className:"font-medium",children:z.name})]}),a.jsx("p",{className:"text-xs",children:z.description})]},E))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Deployment Configuration"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n==="netlify_static"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Subdomain"}),a.jsx("input",{type:"text",placeholder:"my-awesome-site",value:s.subdomain||"",onChange:E=>w("subdomain",E.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Build Command"}),a.jsx("input",{type:"text",placeholder:"npm run build",value:s.buildCommand||B.buildCommand,onChange:E=>w("buildCommand",E.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-100"})]})]}),n==="vercel_static"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Project Name"}),a.jsx("input",{type:"text",placeholder:"my-project",value:s.projectName||"",onChange:E=>w("projectName",E.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Framework"}),a.jsxs("select",{value:s.framework||"react",onChange:E=>w("framework",E.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-100",children:[a.jsx("option",{value:"react",children:"React"}),a.jsx("option",{value:"nextjs",children:"Next.js"}),a.jsx("option",{value:"vue",children:"Vue.js"}),a.jsx("option",{value:"static",children:"Static"})]})]})]}),n==="github_pages"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"GitHub Username"}),a.jsx("input",{type:"text",placeholder:"username",value:s.username||"",onChange:E=>w("username",E.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Repository Name"}),a.jsx("input",{type:"text",placeholder:"my-repository",value:s.repository||"",onChange:E=>w("repository",E.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-100"})]})]}),n==="custom_hosting"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Domain"}),a.jsx("input",{type:"text",placeholder:"example.com",value:s.domain||"",onChange:E=>w("domain",E.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Server Type"}),a.jsxs("select",{value:s.serverType||"apache",onChange:E=>w("serverType",E.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:border-orange-500 focus:ring-2 focus:ring-orange-100",children:[a.jsx("option",{value:"apache",children:"Apache"}),a.jsx("option",{value:"nginx",children:"Nginx"}),a.jsx("option",{value:"cloudflare",children:"Cloudflare Pages"})]})]})]})]})]}),a.jsx("button",{onClick:S,disabled:o,className:"w-full py-4 bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-xl hover:from-orange-600 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center space-x-2 text-lg font-medium",children:o?a.jsxs(a.Fragment,{children:[a.jsx(Tu,{className:"w-6 h-6 animate-bounce"}),a.jsx("span",{children:"Deploying..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Kn,{className:"w-6 h-6"}),a.jsxs("span",{children:["Deploy to ",B.name]})]})})]}),a.jsx("div",{className:"p-6",children:u.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Tu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No deployments yet"}),a.jsx("p",{className:"text-gray-600",children:"Start by selecting a deployment provider and configuration"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(Hr,{className:"w-5 h-5 mr-2 text-orange-600"}),"Deployment History"]}),u.map(E=>{var Ve;const z=d[E.id]||[],he=m.has(E.id),He=z.length>0,Pe=z[z.length-1];return a.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[a.jsx("button",{onClick:()=>j(E.id),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 flex items-center justify-between transition-colors",children:a.jsxs("div",{className:"flex items-center space-x-3 text-left",children:[a.jsx("div",{className:"flex-shrink-0",children:he?a.jsx(bi,{className:"w-5 h-5 text-gray-500"}):a.jsx(Ei,{className:"w-5 h-5 text-gray-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${R(E.deployment_type)}`,children:(Ve=f[E.deployment_type])==null?void 0:Ve.name}),a.jsxs("span",{className:`px-2 py-1 text-xs rounded-full flex items-center space-x-1 ${$(E.status)}`,children:[x(E.status),a.jsx("span",{children:E.status})]}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(E.created_at).toLocaleString()})]}),(Pe==null?void 0:Pe.deployment_url)&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wm,{className:"w-4 h-4 text-green-600"}),a.jsx("a",{href:Pe.deployment_url,target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium text-sm",onClick:C=>C.stopPropagation(),children:Pe.deployment_url}),a.jsx(oi,{className:"w-3 h-3 text-green-600"})]})]})]})}),he&&He&&a.jsx("div",{className:"p-4 bg-white border-t border-gray-100",children:a.jsx("div",{className:"space-y-4",children:z.map(C=>a.jsxs("div",{className:"border border-gray-100 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:`px-4 py-3 flex items-center justify-between ${C.success?"bg-green-50":"bg-red-50"}`,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[C.success?a.jsx(Bt,{className:"w-5 h-5 text-green-600"}):a.jsx(Gn,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"font-medium",children:C.success?"Deployment Successful":"Deployment Failed"})]}),C.deployment_url&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("a",{href:C.deployment_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[a.jsx(oi,{className:"w-4 h-4"}),a.jsx("span",{children:"Visit Site"})]}),C.claim_url&&a.jsxs("a",{href:C.claim_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[a.jsx(hl,{className:"w-4 h-4"}),a.jsx("span",{children:"Manage"})]})]})]}),C.build_logs&&a.jsxs("div",{className:"p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Build Logs"}),a.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap font-mono bg-gray-900 text-green-400 p-4 rounded overflow-x-auto max-h-64",children:C.build_logs})]}),C.error_message&&a.jsxs("div",{className:"p-4",children:[a.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Error Details"}),a.jsx("div",{className:"text-red-700 text-sm bg-red-50 p-3 rounded",children:C.error_message})]})]},C.id))})})]},E.id)})]})})]})]})})}function xy({isOpen:t,onClose:e,plans:n,onStartAll:r}){const[s,i]=A.useState({enableResearch:!0,enableExecution:!0,enableDeployment:!1,autoProgressDelay:5,researchDepth:"standard",executionMode:"standard",deploymentProvider:"netlify_static",pauseBetweenTasks:!0}),o=()=>{r(s),e()},l=(u,c)=>{i(d=>({...d,[u]:c}))};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg",children:a.jsx(Wr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Auto-Start All Tasks"}),a.jsxs("p",{className:"text-purple-100",children:["Configure automated workflow for ",n.length," tasks"]})]})]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:a.jsx(lh,{className:"w-6 h-6"})})]})}),a.jsxs("div",{className:"p-6 max-h-96 overflow-y-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(hl,{className:"w-5 h-5 mr-2 text-purple-600"}),"Workflow Configuration"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(aa,{className:"w-5 h-5 text-emerald-600"}),a.jsx("span",{className:"font-medium",children:"Research Phase"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s.enableResearch,onChange:u=>l("enableResearch",u.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-600"})]})]}),s.enableResearch&&a.jsxs("select",{value:s.researchDepth,onChange:u=>l("researchDepth",u.target.value),className:"w-full p-2 border border-gray-300 rounded-lg text-sm",children:[a.jsx("option",{value:"basic",children:"Basic Research"}),a.jsx("option",{value:"detailed",children:"Detailed Research"}),a.jsx("option",{value:"comprehensive",children:"Comprehensive Research"})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Vr,{className:"w-5 h-5 text-purple-600"}),a.jsx("span",{className:"font-medium",children:"Execution Phase"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s.enableExecution,onChange:u=>l("enableExecution",u.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),s.enableExecution&&a.jsxs("select",{value:s.executionMode,onChange:u=>l("executionMode",u.target.value),className:"w-full p-2 border border-gray-300 rounded-lg text-sm",children:[a.jsx("option",{value:"conservative",children:"Conservative Mode"}),a.jsx("option",{value:"standard",children:"Standard Mode"}),a.jsx("option",{value:"aggressive",children:"Aggressive Mode"})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kn,{className:"w-5 h-5 text-orange-600"}),a.jsx("span",{className:"font-medium",children:"Deployment Phase"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s.enableDeployment,onChange:u=>l("enableDeployment",u.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-600"})]})]}),s.enableDeployment&&a.jsxs("select",{value:s.deploymentProvider,onChange:u=>l("deploymentProvider",u.target.value),className:"w-full p-2 border border-gray-300 rounded-lg text-sm",children:[a.jsx("option",{value:"netlify_static",children:"Netlify"}),a.jsx("option",{value:"vercel_static",children:"Vercel"}),a.jsx("option",{value:"github_pages",children:"GitHub Pages"})]})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(nt,{className:"w-5 h-5 mr-2 text-blue-600"}),"Automation Settings"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Auto-Progress Delay (seconds)"}),a.jsx("input",{type:"range",min:"1",max:"30",value:s.autoProgressDelay,onChange:u=>l("autoProgressDelay",parseInt(u.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"1s"}),a.jsxs("span",{className:"font-medium",children:[s.autoProgressDelay,"s"]}),a.jsx("span",{children:"30s"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pause Between Tasks"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Wait for confirmation between each task"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s.pauseBetweenTasks,onChange:u=>l("pauseBetweenTasks",u.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Tasks to Execute (",n.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:n.map((u,c)=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:c+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 truncate",children:u.title}),a.jsx("p",{className:"text-sm text-gray-600 truncate",children:u.description})]}),a.jsxs("div",{className:"flex space-x-1",children:[s.enableResearch&&a.jsx(aa,{className:"w-4 h-4 text-emerald-600\\",title:"Research will be performed"}),s.enableExecution&&a.jsx(Vr,{className:"w-4 h-4 text-purple-600\\",title:"Execution will be performed"}),s.enableDeployment&&a.jsx(Kn,{className:"w-4 h-4 text-orange-600\\",title:"Deployment will be performed"})]})]},u.id))})]})]}),a.jsx("div",{className:"border-t border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("p",{children:["This will automatically execute the selected workflow phases for all ",n.length," tasks."]}),a.jsx("p",{className:"text-xs mt-1",children:"You can monitor progress and pause at any time."})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:o,disabled:!s.enableResearch&&!s.enableExecution&&!s.enableDeployment,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center space-x-2",children:[a.jsx(Wr,{className:"w-4 h-4"}),a.jsx("span",{children:"Start All Tasks"})]})]})]})})]})}):null}function _y({goalTitle:t,plans:e,subTasks:n,onToggleSubTask:r}){const[s,i]=Ge.useState(new Set),[o,l]=Ge.useState(null),[u,c]=Ge.useState(null),[d,h]=Ge.useState(null),[m,y]=Ge.useState(new Set),[_,k]=Ge.useState(!1),[N,g]=Ge.useState(!1),[f,p]=Ge.useState(null),[v,S]=Ge.useState(null),[j,w]=Ge.useState(null),[x,$]=Ge.useState(new Set),R=P=>{const O=new Set(s);O.has(P)?O.delete(P):O.add(P),i(O)},B=P=>{y(O=>new Set([...O,P.id])),i(O=>new Set([...O,P.id])),l(P)},E=async P=>{w(P),g(!0),y(new Set(e.map(O=>O.id))),i(new Set(e.map(O=>O.id)));for(const O of e){if(!N)break;p(O.id);try{if(P.enableResearch){S("research");const V=he(O,P.researchDepth);await Oh(O.id,V),await Ve(P.autoProgressDelay*1e3)}if(P.enableExecution){S("execution");const V=He(O,P.executionMode);await Ah(O.id,"code_generation",V),await Ve(P.autoProgressDelay*1e3)}if(P.enableDeployment){S("deployment");const V=Pe(O,P.deploymentProvider);await Ih(O.id,P.deploymentProvider,V),await Ve(P.autoProgressDelay*1e3)}$(V=>new Set([...V,O.id])),P.pauseBetweenTasks&&O!==e[e.length-1]&&await Ve(2e3)}catch(V){console.error(`Error in auto-execution for plan ${O.id}:`,V)}}g(!1),p(null),S(null)},z=()=>{g(!1),p(null),S(null)},he=(P,O)=>{const V=`${P.title} best practices and implementation guide`;switch(O){case"basic":return`Quick overview: ${V}`;case"comprehensive":return`Comprehensive analysis including market research, case studies, and detailed implementation for: ${V}`;default:return`Detailed research on ${V} including tools, methods, and expert recommendations`}},He=(P,O)=>{const V=`Create implementation for: ${P.title}. ${P.description||""}`;switch(O){case"conservative":return`${V}. Use simple, proven approaches with minimal dependencies.`;case"aggressive":return`${V}. Use cutting-edge technologies and advanced features.`;default:return`${V}. Use modern best practices with good balance of features and stability.`}},Pe=(P,O)=>{const V=P.title.toLowerCase().replace(/[^a-z0-9]/g,"-").substring(0,30);switch(O){case"netlify_static":return{subdomain:V,buildCommand:"npm run build"};case"vercel_static":return{projectName:V,framework:"react"};case"github_pages":return{username:"auto-user",repository:V};default:return{}}},Ve=P=>new Promise(O=>setTimeout(O,P)),C=P=>{switch(P){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},I=P=>{switch(P){case"completed":return"text-green-600 bg-green-100";case"in_progress":return"text-blue-600 bg-blue-100";case"pending":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},D=P=>{switch(P){case"research":return a.jsx(la,{className:"w-4 h-4 text-emerald-600 animate-pulse"});case"execution":return a.jsx(Vr,{className:"w-4 h-4 text-purple-600 animate-pulse"});case"deployment":return a.jsx(Kn,{className:"w-4 h-4 text-orange-600 animate-pulse"});default:return null}};return a.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-8 text-white mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:t}),a.jsxs("p",{className:"text-blue-100",children:[e.length," main tasks  ",Object.values(n).flat().length," sub-tasks"]})]}),a.jsx("div",{className:"flex items-center space-x-3",children:N?a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-blue-100",children:"Auto-executing tasks..."}),v&&a.jsxs("div",{className:"flex items-center space-x-1 text-xs text-white",children:[D(v),a.jsxs("span",{children:["Phase: ",v]})]})]}),a.jsxs("button",{onClick:z,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:[a.jsx(Em,{className:"w-4 h-4"}),a.jsx("span",{children:"Stop"})]})]}):a.jsxs("button",{onClick:()=>k(!0),className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all flex items-center space-x-2 text-lg font-medium shadow-lg hover:shadow-xl",children:[a.jsx(Wr,{className:"w-5 h-5"}),a.jsx("span",{children:"Start All Tasks"})]})})]})}),a.jsx("div",{className:"space-y-6",children:e.map((P,O)=>{const V=n[P.id]||[],st=s.has(P.id),ct=m.has(P.id),Te=f===P.id,St=x.has(P.id),vl=V.filter(We=>We.completed).length,Qt=V.length,Dh=Qt>0?vl/Qt*100:0;return a.jsxs("div",{className:"relative",children:[O<e.length-1&&a.jsx("div",{className:"absolute left-6 top-20 w-0.5 h-16 bg-gray-200"}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`flex-shrink-0 w-12 h-12 border-4 rounded-full flex items-center justify-center shadow-lg transition-all ${St?"bg-green-500 border-green-500":Te?"bg-gradient-to-r from-blue-500 to-purple-600 border-blue-500 animate-pulse":ct?"bg-gradient-to-r from-blue-500 to-purple-600 border-blue-500":"bg-white border-blue-500"}`,children:St?a.jsx(Bt,{className:"w-6 h-6 text-white"}):Te?a.jsx(nt,{className:"w-6 h-6 text-white animate-spin"}):a.jsx("span",{className:`font-bold text-sm ${ct?"text-white":"text-blue-600"}`,children:O+1})}),a.jsx("div",{className:`flex-1 bg-white rounded-2xl border-2 shadow-lg hover:shadow-xl transition-all duration-200 ${Te?"border-blue-500 ring-4 ring-blue-200":St?"border-green-300 ring-2 ring-green-100":ct?"border-blue-300 ring-2 ring-blue-100":"border-gray-200"}`,children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:P.title}),Te&&v&&a.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:[D(v),a.jsxs("span",{children:["Auto-",v]})]})]}),P.description&&a.jsx("p",{className:"text-gray-600 mb-3",children:P.description}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${C(P.priority)}`,children:[P.priority," priority"]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${I(P.status)}`,children:P.status}),P.estimated_duration&&a.jsxs("span",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(nt,{className:"w-4 h-4 mr-1"}),P.estimated_duration]})]})]})}),!ct&&!N?a.jsx("div",{className:"mb-4",children:a.jsxs("button",{onClick:()=>B(P),className:"w-full py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-200 flex items-center justify-center space-x-2 text-lg font-medium shadow-lg hover:shadow-xl",children:[a.jsx(Wr,{className:"w-5 h-5"}),a.jsx("span",{children:"Start Task"})]})}):ct&&!N?a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-1 text-green-600 text-sm font-medium",children:[a.jsx(Bt,{className:"w-4 h-4"}),a.jsx("span",{children:"Task Started"})]}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{className:"text-sm text-gray-600",children:"Choose your next action:"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("button",{onClick:()=>l(P),className:"p-3 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 rounded-lg transition-colors duration-200 group flex flex-col items-center space-y-1",title:"Research this task",children:[a.jsx(la,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"text-xs font-medium",children:"Research"})]}),a.jsxs("button",{onClick:()=>c(P),className:"p-3 bg-purple-100 text-purple-700 hover:bg-purple-200 rounded-lg transition-colors duration-200 group flex flex-col items-center space-y-1",title:"Execute this task",children:[a.jsx(Vr,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"text-xs font-medium",children:"Execute"})]}),a.jsxs("button",{onClick:()=>h(P),className:"p-3 bg-orange-100 text-orange-700 hover:bg-orange-200 rounded-lg transition-colors duration-200 group flex flex-col items-center space-y-1",title:"Deploy this task",children:[a.jsx(Kn,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),a.jsx("span",{className:"text-xs font-medium",children:"Deploy"})]})]})]}):N?a.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2 text-blue-700",children:[a.jsx(nt,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{className:"text-sm font-medium",children:Te?"Currently executing...":"Waiting in queue..."})]})}):null,Qt>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[vl,"/",Qt," tasks"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${Dh}%`}})})]}),Qt>0&&a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:()=>R(P.id),className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:st?a.jsxs(a.Fragment,{children:[a.jsx(bi,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Hide Sub-tasks"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ei,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm",children:["Show Sub-tasks (",Qt,")"]})]})})}),st&&Qt>0&&a.jsxs("div",{className:"border-t border-gray-100 pt-4 mt-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Sub-tasks:"}),a.jsx("div",{className:"space-y-2",children:V.map(We=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[a.jsx("button",{onClick:()=>r==null?void 0:r(We.id,!We.completed),className:"flex-shrink-0",children:We.completed?a.jsx(Bt,{className:"w-5 h-5 text-green-600"}):a.jsx(ym,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:`font-medium ${We.completed?"text-gray-500 line-through":"text-gray-900"}`,children:We.title}),We.description&&a.jsx("p",{className:`text-sm ${We.completed?"text-gray-400":"text-gray-600"}`,children:We.description})]})]},We.id))})]})]})})]})]},P.id)})}),a.jsx(xy,{isOpen:_,onClose:()=>k(!1),plans:e,onStartAll:E}),o&&a.jsx(Q0,{plan:o,onClose:()=>l(null)}),u&&a.jsx(uy,{plan:u,onClose:()=>c(null)}),d&&a.jsx(wy,{plan:d,onClose:()=>h(null)})]})}function Lh(){const[t,e]=A.useState(null),[n,r]=A.useState(!0);return A.useEffect(()=>{F.auth.getSession().then(({data:{session:u}})=>{e((u==null?void 0:u.user)??null),r(!1)});const{data:{subscription:l}}=F.auth.onAuthStateChange((u,c)=>{e((c==null?void 0:c.user)??null),r(!1)});return()=>l.unsubscribe()},[]),{user:t,loading:n,signUp:async(l,u)=>{const{error:c}=await F.auth.signUp({email:l,password:u});return{error:c}},signIn:async(l,u)=>{const{error:c}=await F.auth.signInWithPassword({email:l,password:u});return{error:c}},signOut:async()=>{const{error:l}=await F.auth.signOut();return{error:l}}}}function ky({isOpen:t,onClose:e}){const[n,r]=A.useState(!1),[s,i]=A.useState(""),[o,l]=A.useState(""),[u,c]=A.useState(!1),[d,h]=A.useState(""),{signUp:m,signIn:y}=Lh(),_=async N=>{N.preventDefault(),c(!0),h("");try{const{error:g}=n?await m(s,o):await y(s,o);g?g.message.includes("Invalid login credentials")?h("No account found with these credentials. Please check your email and password, or sign up to create a new account."):g.message.includes("User already registered")?h("An account with this email already exists. Please sign in instead."):g.message.includes("Password should be at least")?h("Password must be at least 6 characters long."):g.message.includes("Unable to validate email address")?h("Please enter a valid email address."):h(g.message):(e(),i(""),l(""),h(""))}catch{h("An unexpected error occurred. Please try again.")}finally{c(!1)}},k=()=>{r(!n),h("")};return t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 relative",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(lh,{className:"w-5 h-5 text-gray-500"})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:a.jsx(ah,{className:"w-8 h-8 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n?"Create Account":"Welcome Back"}),a.jsx("p",{className:"text-gray-600",children:n?"Sign up to save and manage your goals":"Sign in to access your saved goals"})]}),a.jsxs("form",{onSubmit:_,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"email",value:s,onChange:N=>i(N.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Enter your email",required:!0}),a.jsx(km,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"password",value:o,onChange:N=>l(N.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Enter your password",required:!0,minLength:6}),a.jsx(xm,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400"})]}),n&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Password must be at least 6 characters long"})]}),d&&a.jsxs("div",{className:"flex items-start space-x-3 text-red-600 text-sm bg-red-50 p-4 rounded-lg border border-red-200",children:[a.jsx(Gn,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{children:d}),d.includes("No account found")&&!n&&a.jsx("button",{type:"button",onClick:k,className:"mt-2 text-blue-600 hover:text-blue-700 font-medium underline",children:"Create a new account instead"}),d.includes("already exists")&&n&&a.jsx("button",{type:"button",onClick:k,className:"mt-2 text-blue-600 hover:text-blue-700 font-medium underline",children:"Sign in to existing account"})]})]}),a.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 transition-all font-medium",children:u?"Loading...":n?"Create Account":"Sign In"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:k,className:"text-blue-600 hover:text-blue-700 font-medium",children:n?"Already have an account? Sign in":"Don't have an account? Sign up"})}),!n&&a.jsx("div",{className:"mt-4 text-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"First time here? You'll need to create an account first."})})]})}):null}function Sy(t){const e=jy(t),n={};return e.forEach((r,s)=>{n[s]=by(r.title,r.description||"")}),{plans:e,subTasks:n}}function jy(t){const e=t.toLowerCase();return e.includes("business")||e.includes("startup")||e.includes("company")?[{title:"Market Research & Validation",description:"Research your target market, validate your business idea, and analyze competitors",sequence_order:1,estimated_duration:"2-3 weeks",priority:"high",status:"pending"},{title:"Business Plan Development",description:"Create a comprehensive business plan including financial projections and strategy",sequence_order:2,estimated_duration:"1-2 weeks",priority:"high",status:"pending"},{title:"Legal Structure & Registration",description:"Choose business structure, register your business, and handle legal requirements",sequence_order:3,estimated_duration:"1 week",priority:"medium",status:"pending"},{title:"Product/Service Development",description:"Develop your minimum viable product or service offering",sequence_order:4,estimated_duration:"4-8 weeks",priority:"high",status:"pending"},{title:"Marketing & Launch Strategy",description:"Develop marketing materials, build online presence, and plan your launch",sequence_order:5,estimated_duration:"2-3 weeks",priority:"medium",status:"pending"}]:e.includes("learn")||e.includes("study")||e.includes("development")?[{title:"Foundation & Prerequisites",description:"Establish fundamental knowledge and ensure you have necessary prerequisites",sequence_order:1,estimated_duration:"1-2 weeks",priority:"high",status:"pending"},{title:"Structured Learning Path",description:"Follow a systematic curriculum with hands-on practice and projects",sequence_order:2,estimated_duration:"8-12 weeks",priority:"high",status:"pending"},{title:"Practical Application",description:"Build real projects to apply your knowledge and create a portfolio",sequence_order:3,estimated_duration:"4-6 weeks",priority:"medium",status:"pending"},{title:"Advanced Topics",description:"Dive deeper into specialized areas and advanced concepts",sequence_order:4,estimated_duration:"3-4 weeks",priority:"medium",status:"pending"},{title:"Community & Networking",description:"Join communities, attend events, and build professional connections",sequence_order:5,estimated_duration:"Ongoing",priority:"low",status:"pending"}]:e.includes("travel")||e.includes("vacation")||e.includes("trip")?[{title:"Destination Research & Planning",description:"Research destinations, create itinerary, and plan activities",sequence_order:1,estimated_duration:"1-2 weeks",priority:"high",status:"pending"},{title:"Budget Planning & Booking",description:"Set budget, book flights, accommodations, and major activities",sequence_order:2,estimated_duration:"1 week",priority:"high",status:"pending"},{title:"Documentation & Preparation",description:"Handle passports, visas, travel insurance, and packing preparation",sequence_order:3,estimated_duration:"2-3 weeks",priority:"medium",status:"pending"},{title:"Final Preparations",description:"Complete packing, arrange transportation, and handle last-minute details",sequence_order:4,estimated_duration:"3-5 days",priority:"medium",status:"pending"}]:e.includes("event")||e.includes("party")||e.includes("fundrais")?[{title:"Event Concept & Planning",description:"Define event goals, theme, target audience, and initial planning",sequence_order:1,estimated_duration:"1 week",priority:"high",status:"pending"},{title:"Venue & Date Selection",description:"Research and book venue, set date, and handle initial logistics",sequence_order:2,estimated_duration:"1-2 weeks",priority:"high",status:"pending"},{title:"Vendor Coordination",description:"Book catering, entertainment, equipment, and other necessary services",sequence_order:3,estimated_duration:"2-3 weeks",priority:"medium",status:"pending"},{title:"Marketing & Promotion",description:"Create promotional materials, manage registrations, and build awareness",sequence_order:4,estimated_duration:"3-4 weeks",priority:"medium",status:"pending"},{title:"Final Preparations & Execution",description:"Handle final details, coordinate day-of logistics, and execute the event",sequence_order:5,estimated_duration:"1 week",priority:"high",status:"pending"}]:[{title:"Goal Analysis & Requirements",description:"Break down the goal into specific requirements and success criteria",sequence_order:1,estimated_duration:"2-3 days",priority:"high",status:"pending"},{title:"Resource Planning",description:"Identify and secure necessary resources, tools, and support",sequence_order:2,estimated_duration:"3-5 days",priority:"high",status:"pending"},{title:"Implementation Phase",description:"Execute the main work required to achieve your goal",sequence_order:3,estimated_duration:"2-4 weeks",priority:"high",status:"pending"},{title:"Review & Optimization",description:"Review progress, make adjustments, and optimize your approach",sequence_order:4,estimated_duration:"3-5 days",priority:"medium",status:"pending"},{title:"Completion & Follow-up",description:"Finalize deliverables and plan for maintenance or next steps",sequence_order:5,estimated_duration:"1-2 days",priority:"medium",status:"pending"}]}function by(t,e){const n=t.toLowerCase();return n.includes("market research")||n.includes("validation")?[{title:"Define target customer persona",description:"Create detailed profiles of your ideal customers",sequence_order:1,completed:!1},{title:"Conduct customer interviews",description:"Interview 10-15 potential customers about their needs",sequence_order:2,completed:!1},{title:"Analyze competitor landscape",description:"Research direct and indirect competitors",sequence_order:3,completed:!1},{title:"Validate market size",description:"Estimate total addressable market and demand",sequence_order:4,completed:!1},{title:"Document findings",description:"Compile research into actionable insights",sequence_order:5,completed:!1}]:n.includes("business plan")?[{title:"Executive summary",description:"Write compelling overview of your business",sequence_order:1,completed:!1},{title:"Financial projections",description:"Create 3-year revenue and expense forecasts",sequence_order:2,completed:!1},{title:"Marketing strategy",description:"Define how you'll reach and acquire customers",sequence_order:3,completed:!1},{title:"Operations plan",description:"Outline how your business will operate day-to-day",sequence_order:4,completed:!1},{title:"Risk analysis",description:"Identify potential risks and mitigation strategies",sequence_order:5,completed:!1}]:n.includes("foundation")||n.includes("prerequisite")?[{title:"Assess current knowledge",description:"Take assessment tests to identify knowledge gaps",sequence_order:1,completed:!1},{title:"Set up learning environment",description:"Install necessary tools and software",sequence_order:2,completed:!1},{title:"Gather learning resources",description:"Collect books, courses, and online materials",sequence_order:3,completed:!1},{title:"Create study schedule",description:"Plan daily/weekly study time blocks",sequence_order:4,completed:!1},{title:"Join learning community",description:"Find online forums or local groups",sequence_order:5,completed:!1}]:n.includes("destination")||n.includes("research")?[{title:"Research destinations",description:"Compare different travel destinations and attractions",sequence_order:1,completed:!1},{title:"Check travel requirements",description:"Verify visa, vaccination, and documentation needs",sequence_order:2,completed:!1},{title:"Plan daily itinerary",description:"Create day-by-day activity schedule",sequence_order:3,completed:!1},{title:"Research local customs",description:"Learn about culture, etiquette, and local practices",sequence_order:4,completed:!1},{title:"Create packing checklist",description:"List all items needed for the trip",sequence_order:5,completed:!1}]:[{title:"Define specific objectives",description:"Set clear, measurable goals for this phase",sequence_order:1,completed:!1},{title:"Gather required resources",description:"Collect all necessary tools, information, and materials",sequence_order:2,completed:!1},{title:"Create action timeline",description:"Break down work into daily/weekly milestones",sequence_order:3,completed:!1},{title:"Execute planned activities",description:"Complete the main work items for this phase",sequence_order:4,completed:!1},{title:"Review and document progress",description:"Assess results and document lessons learned",sequence_order:5,completed:!1}]}function Ey(){const{user:t,loading:e,signOut:n}=Lh(),[r,s]=A.useState(!1),[i,o]=A.useState(null),[l,u]=A.useState([]),[c,d]=A.useState({}),[h,m]=A.useState(!1),[y,_]=A.useState([]);A.useEffect(()=>{t?k():(_([]),o(null),u([]),d({}))},[t]);const k=async()=>{if(!t)return;const{data:v}=await F.from("user_goals").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});v&&_(v)},N=async v=>{o(v);const{data:S}=await F.from("task_plans").select("*").eq("goal_id",v.id).order("sequence_order");if(S){u(S);const j={};for(const w of S){const{data:x}=await F.from("sub_tasks").select("*").eq("plan_id",w.id).order("sequence_order");x&&(j[w.id]=x)}d(j)}},g=async v=>{if(!t){s(!0);return}m(!0);try{const{plans:S,subTasks:j}=Sy(v),{data:w,error:x}=await F.from("user_goals").insert({user_id:t.id,title:v,description:`Generated plan for: ${v}`,status:"planning"}).select().single();if(x||!w)throw new Error("Failed to save goal");const $=S.map(z=>({...z,goal_id:w.id})),{data:R,error:B}=await F.from("task_plans").insert($).select();if(B||!R)throw new Error("Failed to save plans");const E=[];if(R.forEach((z,he)=>{(j[he]||[]).forEach(Pe=>{E.push({...Pe,plan_id:z.id})})}),E.length>0){const{data:z}=await F.from("sub_tasks").insert(E).select(),he={};z==null||z.forEach(He=>{he[He.plan_id]||(he[He.plan_id]=[]),he[He.plan_id].push(He)}),d(he)}o(w),u(R),k()}catch(S){console.error("Error generating plan:",S),alert("Failed to generate plan. Please try again.")}finally{m(!1)}},f=async(v,S)=>{try{const{error:j}=await F.from("sub_tasks").update({completed:S}).eq("id",v);if(j)throw j;d(w=>{const x={...w};return Object.keys(x).forEach($=>{x[$]=x[$].map(R=>R.id===v?{...R,completed:S}:R)}),x})}catch(j){console.error("Error updating sub-task:",j)}},p=()=>{o(null),u([]),d({})};return e?a.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-100",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Got Plans?"}),a.jsx("p",{className:"text-xs text-gray-600",children:"AI-Powered Goal Planning"})]})]}),y.length>0&&a.jsxs("button",{onClick:p,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Sm,{className:"w-4 h-4"}),a.jsx("span",{children:"New Goal"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("a",{href:"https://bolt.new",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center space-x-2 px-3 py-1.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full text-sm font-medium hover:from-purple-600 hover:to-pink-600 transition-all duration-200 shadow-md hover:shadow-lg",children:[a.jsx("span",{className:"text-xs",children:""}),a.jsx("span",{children:"Built with Bolt.new"}),a.jsx(oi,{className:"w-3 h-3 opacity-75 group-hover:opacity-100 transition-opacity"})]}),t?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"text-gray-700",children:["Welcome, ",t.email]}),a.jsxs("button",{onClick:n,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(_m,{className:"w-4 h-4"}),a.jsx("span",{children:"Sign Out"})]})]}):a.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:[a.jsx(ah,{className:"w-4 h-4"}),a.jsx("span",{children:"Sign In"})]})]})]})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t&&y.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Goals"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(v=>a.jsxs("button",{onClick:()=>N(v),className:`p-4 bg-white rounded-lg border-2 text-left hover:shadow-md transition-all ${(i==null?void 0:i.id)===v.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2 truncate",children:v.title}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${v.status==="completed"?"bg-green-100 text-green-800":v.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:v.status.replace("_"," ")}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(v.created_at).toLocaleDateString()})]})]},v.id))})]}),i&&l.length>0?a.jsx(_y,{goalTitle:i.title,plans:l,subTasks:c,onToggleSubTask:f}):a.jsx(Cm,{onSubmit:g,isLoading:h})]}),a.jsx(ky,{isOpen:r,onClose:()=>s(!1)})]})}ih(document.getElementById("root")).render(a.jsx(A.StrictMode,{children:a.jsx(Ey,{})}));
